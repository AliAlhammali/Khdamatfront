import{u as p}from"./merchant.admin.store-CfqCq9f2.js";import{_ as v,m as x,e as y,r as o,o as k,c as w,b as l,a,w as e,g as $,n as P,t as C,j as c}from"./index-CS9bw-lj.js";import{D as S}from"./DataTable-ClIaddqw.js";import{C as A}from"./ConfirmDialog-CLTOtqR2.js";import{s as M}from"./showAlert.helper-B16U-n7m.js";import"./api.helper-X78EMQNg.js";const B={components:{DataTable:S,ConfirmDialog:A},data(){return{params:{"filter[keyword]":null,perPage:10,page:1},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}],filterStatus:null}},async mounted(){await this.getMerchantAdmin(this.params)},computed:{...x(p,["records","uiFlags"]),headers(){return[{title:"#",align:"start",sortable:!0,key:"id"},{title:this.$t("admin_merchant.fields.title"),align:"start",sortable:!0,key:"title"},{title:this.$t("admin_merchant.fields.phone"),align:"start",sortable:!0,key:"phone"},{title:this.$t("admin_merchant.fields.email"),align:"start",sortable:!0,key:"email"},{title:this.$t("admin_merchant.fields.status"),align:"start",sortable:!0,key:"status"},{title:"#",align:"start",sortable:!1,key:"actions"}]},items(){return this.records?.data?.map(t=>({...t,address:t.address?t.address:"---",phone:t.phone?t.phone:"---",email:t.email?t.email:"---",status:t.status?t.status:"---"}))}},methods:{...y(p,["getMerchantAdmin","deleteMerchantAdmin"]),async deleteRecord(t){(await M({title:this.$t("global.actions.delete"),text:this.$t("global.actions.delete_confirmation")+t.title,confirmButtonText:this.$t("global.actions.delete"),cancelButtonText:this.$t("global.actions.cancel")})).isConfirmed&&await this.deleteMerchantAdmin(t.id)},async changePage(t){this.params.page=t,await this.getMerchantAdmin(this.params)},async changePerPage(t){this.params.perPage=t,this.params.page=1,await this.getMerchantAdmin(this.params)},async search(t){this.params["filter[keyword]"]=t;const i={"filter[keyword]":t};await this.getMerchantAdmin(i)},async filterOrderBy(t,i){this.params[i]=t,await this.getMerchantAdmin(this.params)},async clearFilter(){this.filterStatus=null,this.params["filter[status]"]=null,await this.getMerchantAdmin(this.params)}}},F={class:""},V=["disabled"],D={class:"d-flex ga-2 align-center"},L=["onClick"];function T(t,i,z,N,m,r){const g=o("v-select"),h=o("v-col"),_=o("v-icon"),f=o("v-row"),d=o("v-tooltip"),u=o("router-link"),b=o("data-table");return k(),w("div",F,[l("div",null,[a(b,{title:t.$t("admin_merchant.title"),"create-page":"/admin/merchant/create",placeholder:t.$t("admin_merchant.search_placeholder"),headers:r.headers,"slots-items":["actions","status"],isLoading:t.uiFlags?.isLoading,items:r.items,meta:t.records?.meta,onChangePage:r.changePage,onChangePerPage:r.changePerPage,onSearch:r.search,hasFilter:!0},{filter:e(()=>[a(f,null,{default:e(()=>[a(h,{md:"3",cols:"12"},{default:e(()=>[a(g,{modelValue:m.filterStatus,"onUpdate:modelValue":[i[0]||(i[0]=s=>m.filterStatus=s),i[1]||(i[1]=s=>r.filterOrderBy(s,"filter[status]"))],placeholder:t.$t("admin_merchant.fields.status"),label:t.$t("admin_merchant.fields.status"),items:m.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl","no-data-text":t.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","placeholder","label","items","no-data-text"])]),_:1}),a(h,{cols:"2"},{default:e(()=>[l("button",{class:"pa-3 rounded border text-error",onClick:i[2]||(i[2]=(...s)=>r.clearFilter&&r.clearFilter(...s)),disabled:!m.filterStatus},[a(_,{size:"24"},{default:e(()=>[$("mdi mdi-filter-variant-remove")]),_:1})],8,V)]),_:1})]),_:1})]),status:e(({item:s})=>[l("span",{class:P(["badge badge--status",s.item.status==="active"?"badge--success":"badge--danger"])},C(t.$t(`global.status.${s.item.status}`)),3)]),actions:e(({item:s})=>[l("div",D,[a(u,{to:`/admin/merchant-users?merchant_id=${s.item.id}`,class:"button button--edit px-2 rounded"},{default:e(()=>[a(d,{text:t.$t("admin_navbar_links.merchant_users")},{activator:e(({props:n})=>[l("span",c(n,{class:"mdi mdi-24px mdi-account-group"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),a(u,{to:`/admin/merchant/${s.item.id}/edit`,class:"button button--edit px-2 rounded"},{default:e(()=>[a(d,{text:t.$t("global.actions.edit")},{activator:e(({props:n})=>[l("span",c(n,{class:"mdi mdi-24px mdi-pencil"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),a(u,{to:{path:"/admin/service/create",query:{merchant_id:s.item.id}},class:"button button--edit px-2 rounded"},{default:e(()=>[a(d,{text:t.$t("admin_services.add_title_service")},{activator:e(({props:n})=>[l("span",c(n,{class:"mdi mdi-24px mdi-plus"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),a(u,{to:{path:"/admin/categories/create",query:{merchant_id:s.item.id}},class:"button button--edit px-2 rounded"},{default:e(()=>[a(d,{text:t.$t("admin_categories.add_title_category")},{activator:e(({props:n})=>[l("span",c(n,{class:"mdi mdi-24px mdi-plus"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),l("button",{class:"button button--delete px-2 rounded",onClick:n=>r.deleteRecord(s.item)},[a(d,{text:t.$t("global.actions.delete")},{activator:e(({props:n})=>[l("span",c(n,{class:"mdi mdi-24px mdi-delete"}),null,16)]),_:1},8,["text"])],8,L)])]),_:1},8,["title","placeholder","headers","isLoading","items","meta","onChangePage","onChangePerPage","onSearch"])])])}const G=v(B,[["render",T]]);export{G as default};
//# sourceMappingURL=MerchantList-BbDO5q_U.js.map
