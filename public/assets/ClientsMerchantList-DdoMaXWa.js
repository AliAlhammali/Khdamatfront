import{_ as v,m as C,e as y,r as n,o as k,c as w,a as l,w as a,b as r,g as P,t as x,n as S,j as h}from"./index-CS9bw-lj.js";import{D as M}from"./DataTable-ClIaddqw.js";import{C as $}from"./ConfirmDialog-CLTOtqR2.js";import{s as B}from"./showAlert.helper-B16U-n7m.js";import{u}from"./clients.merchant.store-BqdwfQcy.js";import"./api.helper-X78EMQNg.js";const F={components:{DataTable:M,ConfirmDialog:$},data(){return{params:{"filter[keyword]":null,perPage:10,page:1},listStatus:[{text:this.$t("global.status.active"),value:1},{text:this.$t("global.status.inactive"),value:0}],filterStatus:null}},async mounted(){await this.getClientsMerchant(this.params)},computed:{...C(u,["records","uiFlags"]),headers(){return[{title:"#",align:"start",sortable:!0,key:"id"},{title:this.$t("admin_merchant.fields.name"),align:"start",sortable:!0,key:"name"},{title:this.$t("admin_merchant.fields.phone"),align:"start",sortable:!0,key:"phone"},{title:this.$t("admin_merchant.fields.email"),align:"start",sortable:!0,key:"email"},{title:this.$t("admin_merchant.fields.status"),align:"start",sortable:!0,key:"is_active"},{title:"#",align:"start",sortable:!1,key:"actions"}]},items(){return this.records?.data?.map(t=>({...t,address:t.address?t.address:"---",phone:t.phone?t.phone:"---",email:t.email?t.email:"---"}))}},methods:{...y(u,["getClientsMerchant","deleteClientsMerchant"]),async deleteRecord(t){(await B({title:this.$t("global.actions.delete"),text:this.$t("global.actions.delete_confirmation")+t.name,confirmButtonText:this.$t("global.actions.delete"),cancelButtonText:this.$t("global.actions.cancel")})).isConfirmed&&await this.deleteClientsMerchant(t.id)},async filterByStatus(t){this.params["filter[is_active]"]=t,await this.getClientsMerchant(this.params)},async clearFilter(){this.filterStatus=null,this.params["filter[is_active]"]=null,await this.getClientsMerchant(this.params)},async changePage(t){this.params.page=t,await this.getClientsMerchant(this.params)},async changePerPage(t){this.params.perPage=t,this.params.page=1,await this.getClientsMerchant(this.params)},async search(t){this.params["filter[keyword]"]=t;const s={"filter[keyword]":t};await this.getClientsMerchant(s)}}},V={class:""},D=["disabled"],L={class:"d-flex ga-2 align-center"},T=["onClick"];function z(t,s,N,R,o,i){const g=n("v-select"),d=n("v-col"),p=n("v-icon"),_=n("v-row"),m=n("v-tooltip"),f=n("router-link"),b=n("data-table");return k(),w("div",V,[l(b,{title:t.$t("admin_navbar_links.clients"),placeholder:t.$t("merchant.clients.search_placeholder"),"create-page":"/merchant/clients/create",headers:i.headers,"slots-items":["actions","is_active"],isLoading:t.uiFlags?.isLoading,items:i.items,meta:t.records?.meta,onChangePage:i.changePage,onChangePerPage:i.changePerPage,onSearch:i.search,hasFilter:!0},{filter:a(()=>[l(_,null,{default:a(()=>[l(d,{md:"4",cols:"12"},{default:a(()=>[l(g,{modelValue:o.filterStatus,"onUpdate:modelValue":[s[0]||(s[0]=e=>o.filterStatus=e),s[1]||(s[1]=e=>i.filterByStatus(e))],placeholder:t.$t("admin_merchant.fields.status"),items:o.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl","no-data-text":t.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","placeholder","items","no-data-text"])]),_:1}),l(d,{cols:"2"},{default:a(()=>[r("button",{class:"pa-3 rounded border text-error",onClick:s[2]||(s[2]=(...e)=>i.clearFilter&&i.clearFilter(...e)),disabled:o.filterStatus==null},[l(p,{size:"24"},{default:a(()=>[P("mdi mdi-filter-variant-remove")]),_:1})],8,D)]),_:1})]),_:1})]),is_active:a(({item:e})=>[r("span",{class:S(["badge badge--status",e.item.is_active?"badge--success":"badge--danger"])},x(e.item.is_active?t.$t("global.status.active"):t.$t("global.status.inactive")),3)]),actions:a(({item:e})=>[r("div",L,[l(f,{to:`/merchant/clients/${e.item.id}/edit`,class:"button button--edit px-2 rounded"},{default:a(()=>[l(m,{text:t.$t("global.actions.edit")},{activator:a(({props:c})=>[r("span",h(c,{class:"mdi mdi-24px mdi-pencil"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),r("button",{class:"button button--delete px-2 rounded",onClick:c=>i.deleteRecord(e.item)},[l(m,{text:t.$t("global.actions.delete")},{activator:a(({props:c})=>[r("span",h(c,{class:"mdi mdi-24px mdi-delete"}),null,16)]),_:1},8,["text"])],8,T)])]),_:1},8,["title","placeholder","headers","isLoading","items","meta","onChangePage","onChangePerPage","onSearch"])])}const H=v(F,[["render",z]]);export{H as default};
//# sourceMappingURL=ClientsMerchantList-DdoMaXWa.js.map
