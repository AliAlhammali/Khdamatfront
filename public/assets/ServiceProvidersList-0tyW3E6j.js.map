{"version":3,"file":"ServiceProvidersList-0tyW3E6j.js","sources":["../../src/views/Admin/Dashboard/serviceProviders/ServiceProvidersList.vue"],"sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <div>\r\n      <data-table\r\n        :title=\"$t('admin_navbar_links.services_providers')\"\r\n        :placeholder=\"$t('service_providers.search_placeholder')\"\r\n        :create-page=\"'/admin/service-provider/create'\"\r\n        :headers=\"headers\"\r\n        :slots-items=\"['actions', 'status']\"\r\n        :isLoading=\"uiFlags?.isLoading\"\r\n        :items=\"items\"\r\n        :meta=\"records?.meta\"\r\n        @changePage=\"changePage\"\r\n        @changePerPage=\"changePerPage\"\r\n        @search=\"search\"\r\n        :hasFilter=\"true\"\r\n      >\r\n        <template #filter>\r\n          <v-row>\r\n            <v-col md=\"3\" cols=\"12\">\r\n              <!-- Status -->\r\n              <v-select\r\n                v-model=\"filterStatus\"\r\n                :placeholder=\"$t('admin_merchant.fields.status')\"\r\n                :label=\"$t('admin_merchant.fields.status')\"\r\n                :items=\"listStatus\"\r\n                :item-title=\"'text'\"\r\n                :item-value=\"'value'\"\r\n                outlined\r\n                menu-icon=\"mdi mdi-chevron-down\"\r\n                class=\"text-capitalize rounded-xl\"\r\n                :no-data-text=\"$t('global.actions.no_data')\"\r\n                hide-details\r\n                @update:model-value=\"\r\n                  (val) => filterOrderBy(val, 'filter[status]')\r\n                \"\r\n              ></v-select>\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n              <button\r\n                class=\"pa-3 rounded border text-error\"\r\n                @click=\"clearFilter\"\r\n                :disabled=\"!filterStatus\"\r\n              >\r\n                <v-icon size=\"24\">mdi mdi-filter-variant-remove</v-icon>\r\n              </button>\r\n            </v-col>\r\n          </v-row>\r\n        </template>\r\n        <template #status=\"{ item }\">\r\n          <span\r\n            class=\"badge badge--status\"\r\n            :class=\"\r\n              item.item.status === 'active' ? 'badge--success' : 'badge--danger'\r\n            \"\r\n          >\r\n            {{ $t(`global.status.${item.item.status}`) }}\r\n          </span>\r\n        </template>\r\n        <template #actions=\"{ item }\">\r\n          <div class=\"d-flex ga-2 align-center\">\r\n            <router-link\r\n              :to=\"`/admin/service-provider-users?service_provider_id=${item.item.id}`\"\r\n              class=\"button button--edit px-2 rounded\"\r\n            >\r\n              <v-tooltip\r\n                :text=\"$t('admin_navbar_links.services_providers_users')\"\r\n              >\r\n                <template v-slot:activator=\"{ props }\">\r\n                  <span\r\n                    v-bind=\"props\"\r\n                    class=\"mdi mdi-24px mdi-account-group\"\r\n                  ></span>\r\n                </template>\r\n              </v-tooltip>\r\n            </router-link>\r\n            <router-link\r\n              :to=\"`/admin/service-provider/${item.item.id}/edit`\"\r\n              class=\"button button--edit px-2 rounded\"\r\n            >\r\n              <v-tooltip :text=\"$t('global.actions.edit')\">\r\n                <template v-slot:activator=\"{ props }\">\r\n                  <span v-bind=\"props\" class=\"mdi mdi-24px mdi-pencil\"></span>\r\n                </template>\r\n              </v-tooltip>\r\n            </router-link>\r\n            <button\r\n              class=\"button button--delete px-2 rounded\"\r\n              @click=\"deleteRecord(item.item)\"\r\n            >\r\n              <v-tooltip :text=\"$t('global.actions.delete')\">\r\n                <template v-slot:activator=\"{ props }\">\r\n                  <span v-bind=\"props\" class=\"mdi mdi-24px mdi-delete\"></span>\r\n                </template>\r\n              </v-tooltip>\r\n            </button>\r\n          </div>\r\n        </template>\r\n      </data-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useServiceProvidersAdminStore } from \"@/stores/admin/serviceProviders/serviceProviders.admin.store\";\r\nimport { mapActions, mapState } from \"pinia\";\r\nimport DataTable from \"@/components/common/DataTable.vue\";\r\nimport ConfirmDialog from \"@/components/common/ConfirmDialog.vue\";\r\nimport { showConfirmationDialog } from \"@/helper/showAlert.helper\";\r\nexport default {\r\n  components: { DataTable, ConfirmDialog },\r\n  data() {\r\n    return {\r\n      params: {\r\n        \"filter[keyword]\": null,\r\n        perPage: 10,\r\n        page: 1,\r\n      },\r\n      listStatus: [\r\n        {\r\n          text: this.$t(\"global.status.active\"),\r\n          value: \"active\",\r\n        },\r\n        {\r\n          text: this.$t(\"global.status.inactive\"),\r\n          value: \"inactive\",\r\n        },\r\n      ],\r\n      filterStatus: null,\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.getServiceProvidersAdmin(this.params);\r\n  },\r\n  computed: {\r\n    ...mapState(useServiceProvidersAdminStore, [\"records\", \"uiFlags\"]),\r\n    headers() {\r\n      return [\r\n        {\r\n          title: \"#\",\r\n          align: \"start\",\r\n          sortable: true,\r\n          key: \"id\",\r\n        },\r\n        {\r\n          title: this.$t(\"admin_merchant.fields.title\"),\r\n          align: \"start\",\r\n          sortable: true,\r\n          key: \"title\",\r\n        },\r\n        {\r\n          title: this.$t(\"admin_merchant.fields.phone\"),\r\n          align: \"start\",\r\n          sortable: true,\r\n          key: \"phone\",\r\n        },\r\n        {\r\n          title: this.$t(\"admin_merchant.fields.email\"),\r\n          align: \"start\",\r\n          sortable: true,\r\n          key: \"email\",\r\n        },\r\n        {\r\n          title: this.$t(\"admin_merchant.fields.status\"),\r\n          align: \"start\",\r\n          sortable: true,\r\n          key: \"status\",\r\n        },\r\n        {\r\n          title: \"#\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          key: \"actions\",\r\n        },\r\n      ];\r\n    },\r\n    items() {\r\n      return this.records?.data.map((item) => {\r\n        return {\r\n          ...item,\r\n          address: item.address ? item.address : \"---\",\r\n          phone: item.phone ? item.phone : \"---\",\r\n          email: item.email ? item.email : \"---\",\r\n          status: item.status ? item.status : \"---\",\r\n        };\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(useServiceProvidersAdminStore, [\r\n      \"getServiceProvidersAdmin\",\r\n      \"deleteServiceProvidersAdmin\",\r\n    ]),\r\n\r\n    async deleteRecord(item) {\r\n      const result = await showConfirmationDialog({\r\n        title: this.$t(\"global.actions.delete\"),\r\n        text: this.$t(\"global.actions.delete_confirmation\") + item.title,\r\n        confirmButtonText: this.$t(\"global.actions.delete\"),\r\n        cancelButtonText: this.$t(\"global.actions.cancel\"),\r\n      });\r\n      if (result.isConfirmed) {\r\n        await this.deleteServiceProvidersAdmin(item.id);\r\n      }\r\n    },\r\n\r\n    async changePage(page) {\r\n      this.params.page = page;\r\n      await this.getServiceProvidersAdmin(this.params);\r\n    },\r\n    async changePerPage(perPage) {\r\n      this.params.perPage = perPage;\r\n      this.params.page = 1;\r\n      await this.getServiceProvidersAdmin(this.params);\r\n    },\r\n    async search(text) {\r\n      this.params[\"filter[keyword]\"] = text;\r\n      const key = {\r\n        \"filter[keyword]\": text,\r\n      };\r\n      await this.getServiceProvidersAdmin(key);\r\n    },\r\n    async filterOrderBy(value, key) {\r\n      this.params[key] = value;\r\n      await this.getServiceProvidersAdmin(this.params);\r\n    },\r\n    async clearFilter() {\r\n      this.filterStatus = null;\r\n      this.params[\"filter[status]\"] = null;\r\n      await this.getServiceProvidersAdmin(this.params);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["_sfc_main","DataTable","ConfirmDialog","mapState","useServiceProvidersAdminStore","item","mapActions","showConfirmationDialog","page","perPage","text","key","value","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_component_data_table","_ctx","$options","_component_v_row","_withCtx","_component_v_col","_component_v_select","$data","$event","val","args","_component_v_icon","_createTextVNode","_normalizeClass","_toDisplayString","_component_router_link","_component_v_tooltip","props","_mergeProps"],"mappings":"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"}