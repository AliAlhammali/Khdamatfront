import{_ as w,m as P,e as $,r,o as n,c as o,a as l,w as s,b as d,g as C,n as x,t as u,j as p}from"./index-CS9bw-lj.js";import{D as A}from"./DataTable-ClIaddqw.js";import{C as S}from"./ConfirmDialog-CLTOtqR2.js";import{s as U}from"./showAlert.helper-B16U-n7m.js";import{u as _}from"./users.admin.store-qbqzDZZA.js";import"./api.helper-X78EMQNg.js";const B={components:{DataTable:A,ConfirmDialog:S},data(){return{params:{"filter[keyword]":null,perPage:10,page:1},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}],filterStatus:null}},async mounted(){await this.getUsersAdmin(this.params)},computed:{...P(_,["records","uiFlags"]),headers(){return[{title:"#",align:"start",sortable:!0,key:"id"},{title:this.$t("admin_merchant.fields.name"),align:"start",sortable:!0,key:"name"},{title:this.$t("admin_merchant.fields.phone"),align:"start",sortable:!0,key:"phone"},{title:this.$t("admin_merchant.fields.email"),align:"start",sortable:!0,key:"email"},{title:this.$t("admin_merchant.fields.role"),align:"start",sortable:!0,key:"role"},{title:this.$t("admin_merchant.fields.status"),align:"start",sortable:!0,key:"status"},{title:"#",align:"start",sortable:!1,key:"actions"}]},items(){return this.records?.data?.map(t=>({...t,address:t.address?t.address:"---",phone:t.phone?t.phone:"---",email:t.email?t.email:"---",status:t.status?t.status:"---",role:t.role?t.role:"---"}))}},methods:{...$(_,["getUsersAdmin","deleteUsersAdmin"]),async deleteRecord(t){(await U({title:this.$t("global.actions.delete"),text:this.$t("global.actions.delete_confirmation")+t.name,confirmButtonText:this.$t("global.actions.delete"),cancelButtonText:this.$t("global.actions.cancel")})).isConfirmed&&await this.deleteUsersAdmin(t.id)},async changePage(t){this.params.page=t,await this.getUsersAdmin(this.params)},async changePerPage(t){this.params.perPage=t,this.params.page=1,await this.getUsersAdmin(this.params)},async search(t){this.params["filter[keyword]"]=t;const a={"filter[keyword]":t};await this.getUsersAdmin(a)},async filterOrderBy(t,a){this.params[a]=t,await this.getUsersAdmin(this.params)},async clearFilter(){this.filterStatus=null,this.params["filter[status]"]=null,await this.getUsersAdmin(this.params)}}},F={class:""},V=["disabled"],D={key:1},L={key:0,class:"badge badge--status"},T={key:1},z={class:"d-flex ga-2 align-center"},N=["onClick"];function O(t,a,R,j,c,i){const f=r("v-select"),h=r("v-col"),b=r("v-icon"),v=r("v-row"),g=r("v-tooltip"),y=r("router-link"),k=r("data-table");return n(),o("div",F,[l(k,{title:t.$t("admin_navbar_links.users"),placeholder:t.$t("admin_merchant.search_placeholder_users"),"create-page":"/admin/users/create",headers:i.headers,"slots-items":["actions","status","role"],isLoading:t.uiFlags?.isLoading,items:i.items,meta:t.records?.meta,onChangePage:i.changePage,onChangePerPage:i.changePerPage,hasFilter:!0,onSearch:i.search},{filter:s(()=>[l(v,null,{default:s(()=>[l(h,{md:"3",cols:"12"},{default:s(()=>[l(f,{modelValue:c.filterStatus,"onUpdate:modelValue":[a[0]||(a[0]=e=>c.filterStatus=e),a[1]||(a[1]=e=>i.filterOrderBy(e,"filter[status]"))],placeholder:t.$t("admin_merchant.fields.status"),label:t.$t("admin_merchant.fields.status"),items:c.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl","no-data-text":t.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","placeholder","label","items","no-data-text"])]),_:1}),l(h,{cols:"2"},{default:s(()=>[d("button",{class:"pa-3 rounded border text-error",onClick:a[2]||(a[2]=(...e)=>i.clearFilter&&i.clearFilter(...e)),disabled:!c.filterStatus},[l(b,{size:"24"},{default:s(()=>[C("mdi mdi-filter-variant-remove")]),_:1})],8,V)]),_:1})]),_:1})]),status:s(({item:e})=>[e.item.status!=="---"?(n(),o("span",{key:0,class:x(["badge badge--status",e.item.status==="active"?"badge--success":"badge--danger"])},u(t.$t(`global.status.${e.item.status}`)),3)):(n(),o("span",D,u(e.item.status),1))]),role:s(({item:e})=>[e.item.role!=="---"?(n(),o("span",L,u(t.$t(`global.role.${e.item.role}`)),1)):(n(),o("span",T,u(e.item.role),1))]),actions:s(({item:e})=>[d("div",z,[l(y,{to:`/admin/users/${e.item.id}/edit`,class:"button button--edit px-2 rounded"},{default:s(()=>[l(g,{text:t.$t("global.actions.edit")},{activator:s(({props:m})=>[d("span",p(m,{class:"mdi mdi-24px mdi-pencil"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),d("button",{class:"button button--delete px-2 rounded",onClick:m=>i.deleteRecord(e.item)},[l(g,{text:t.$t("global.actions.delete")},{activator:s(({props:m})=>[d("span",p(m,{class:"mdi mdi-24px mdi-delete"}),null,16)]),_:1},8,["text"])],8,N)])]),_:1},8,["title","placeholder","headers","isLoading","items","meta","onChangePage","onChangePerPage","onSearch"])])}const K=w(B,[["render",O]]);export{K as default};
//# sourceMappingURL=UsersAdminList-Co-FZo-O.js.map
