import{F as A,u as q,r as v,e as B}from"./index-COJIqLJ_.js";import{_ as C,m as w,e as f,r as d,o,c as h,f as p,F as g,b as i,t as c,a as n,w as l,h as b,i as E,g as x}from"./index-CS9bw-lj.js";import{L as M}from"./Loader-B8eGEbwu.js";import{u as y}from"./serviceProviderUsers.admin.store-BdpqlsYg.js";import{u as P}from"./serviceProviders.admin.store-Bv9QIKe0.js";import{u as T}from"./update.inputs.helper-BL7S9VQe.js";import"./api.helper-X78EMQNg.js";const D={components:{FiledInput:A,Loader:M},setup(){return{v$:q()}},validations(){return{merchant:{name:{required:v},email:{required:v,email:B},service_provider_id:{required:v},password:{required:v}}}},data(){return{merchant:{name:null,email:null,service_provider_id:null,password:null},showPassword:!1}},async created(){await this.getServiceProvidersAdmin({listing:1})},async mounted(){if(this.isEditMerchant){const e=this.$route.params.id;await this.showServiceProvidersUsersAdmin(e),this.merchant={...this.record}}},computed:{...w(P,{merchants:"records",merchantsUiFlags:"uiFlags"}),...w(y,["uiFlags","record"]),isEditMerchant(){return this.$route.name==="admin-service-provider-users-edit"},merchantData(){return[{name:"name",type:"text",label:this.$t("admin_merchant.fields.name"),error:"v$.merchant.name.$error",errorText:this.v$.merchant.name.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.name.$touch()"},{name:"email",type:"email",label:this.$t("admin_merchant.fields.email"),error:"v$.merchant.email.$error",errorText:this.v$.merchant.email.required.$invalid&&this.$t("errors.required")||this.v$.merchant.email.email.$invalid&&this.$t("errors.email"),blur:"v$.merchant.email.$touch()"}]}},methods:{...f(y,["createServiceProvidersUsersAdmin","showServiceProvidersUsersAdmin","updateServiceProvidersUsersAdmin"]),...f(P,["getServiceProvidersAdmin"]),actionBtn(){if(this.v$.$touch(),!this.v$.$error)if(this.isEditMerchant){const e=T(this.merchant,this.record);this.updateServiceProvidersUsersAdmin(this.record.id,e);return}else this.createServiceProvidersUsersAdmin({...this.merchant})}}},L={class:"content"},N={class:"d-flex border-b mb-4 pb-4 justify-space-between"},j={class:""},z=i("span",{class:"fa fa-arrow-left"},null,-1),I={class:"d-flex align-center ga-2 mb-3 filed__label"},G=i("span",{class:"text-red"},"*",-1),H={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},J=i("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1);function K(e,t,O,s,a,m){const S=d("loader"),U=d("v-select"),u=d("v-col"),_=d("filed-input"),V=d("v-btn"),k=d("v-row");return o(),h("div",L,[e.uiFlags.isLoading?(o(),p(S,{key:0})):(o(),h(g,{key:1},[i("div",N,[i("h2",j,c(m.isEditMerchant?e.$t("admin_merchant.edit_user_title"):e.$t("admin_merchant.add_new_user")),1),i("button",{class:"d-flex ga-2 align-center",onClick:t[0]||(t[0]=r=>e.$router.go(-1))},[i("span",null,c(e.$t("global.actions.back")),1),z])]),n(k,null,{default:l(()=>[n(u,{cols:"12",md:"6"},{default:l(()=>[i("p",I,[i("span",null,c(e.$t("admin_navbar_links.services_providers")),1),G]),n(U,{modelValue:a.merchant.service_provider_id,"onUpdate:modelValue":t[1]||(t[1]=r=>a.merchant.service_provider_id=r),items:e.merchants?.data,"item-text":"name","item-value":"id","menu-icon":"mdi mdi-chevron-down",class:"w-100",outlined:"",error:s.v$.merchant.service_provider_id.$dirty&&s.v$.merchant.service_provider_id.required.$invalid,"no-data-text":e.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","items","error","no-data-text"]),s.v$.merchant.service_provider_id.$dirty&&s.v$.merchant.service_provider_id.required.$invalid?(o(),h("p",H,[J,i("span",null,c(e.$t("errors.required")),1)])):b("",!0)]),_:1}),(o(!0),h(g,null,E(m.merchantData,(r,F)=>(o(),p(u,{cols:"12",md:"6",key:F},{default:l(()=>[n(_,{label:r.label,modelValue:a.merchant[r.name],"onUpdate:modelValue":$=>a.merchant[r.name]=$,value:a.merchant[r.name],type:r.type,error:s.v$.merchant[r.name].$error,"error-text":r.errorText,onBlur:$=>s.v$.merchant[r.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),m.isEditMerchant?b("",!0):(o(),p(u,{key:0,md:"6",cols:"12"},{default:l(()=>[n(_,{label:e.$t("admin_merchant.fields.password"),modelValue:a.merchant.password,"onUpdate:modelValue":t[2]||(t[2]=r=>a.merchant.password=r),value:a.merchant.password,type:"password",error:s.v$.merchant.password.$error,"error-text":s.v$.merchant.password.required.$invalid&&e.$t("errors.required"),"show-password":a.showPassword,onShowPassword:t[3]||(t[3]=r=>a.showPassword=!a.showPassword),onBlur:t[4]||(t[4]=r=>s.v$.merchant.password.$touch())},null,8,["label","modelValue","value","error","error-text","show-password"])]),_:1})),n(u,{cols:"12"},{default:l(()=>[n(V,{class:"w-100",color:"primary",size:"large",onClick:m.actionBtn,loading:e.uiFlags.isCreating||e.uiFlags.isUpdated,disabled:e.uiFlags.isCreating||e.uiFlags.isUpdated||s.v$.merchant.$error},{default:l(()=>[x(c(m.isEditMerchant?e.$t("global.actions.edit"):e.$t("global.actions.add")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const re=C(D,[["render",K]]);export{re as default};
//# sourceMappingURL=ServiceProvidersUsersCreate-3VMyyNXQ.js.map
