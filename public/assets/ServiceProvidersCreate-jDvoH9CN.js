import{F,u as C,r as c,e as y,a as v}from"./index-COJIqLJ_.js";import{u as x}from"./serviceProviders.admin.store-Bv9QIKe0.js";import{u as T}from"./upload.store-D2_zDjX1.js";import{_ as U,m as A,e as V,r as f,o as m,c as h,f as B,F as g,b as n,t as o,a,w as s,h as $,i as I,n as p,g as D}from"./index-CS9bw-lj.js";import{L}from"./Loader-B8eGEbwu.js";import{u as N}from"./update.inputs.helper-BL7S9VQe.js";import"./api.helper-X78EMQNg.js";const z={components:{FiledInput:F,Loader:L},setup(){return{v$:C()}},validations(){return{merchant:{title:{required:c},description:{required:c},address:{required:c},status:{required:c},email:{required:c,email:y},phone:{required:c},cr_number:{required:c},vat_number:{required:c},can_collect_vat:{required:c},owner:{name:{required:v(()=>!this.isEditMerchant)},phone:{required:v(()=>!this.isEditMerchant)},email:{required:v(()=>!this.isEditMerchant),email:y},password:{required:v(()=>!this.isEditMerchant)}}},files:{logo:{required:v(()=>!this.isEditMerchant)},vat_file:{required:v(()=>!this.isEditMerchant)},cr_file:{required:v(()=>!this.isEditMerchant)},sales_agreement_file:{required:v(()=>!this.isEditMerchant)}}}},data(){return{merchant:{title:null,description:null,address:null,status:null,email:null,phone:null,logo:null,vat_file:null,cr_file:null,sales_agreement_file:null,cr_number:null,vat_number:null,can_collect_vat:null,owner:{name:null,phone:null,email:null,password:null}},files:{logo:null,vat_file:null,cr_file:null,sales_agreement_file:null},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}],showPassword:!1}},async mounted(){if(this.isEditMerchant){const l=this.$route.params.id;await this.showServiceProvidersAdmin(l),this.merchant={...this.record}}},computed:{...A(x,["uiFlags","record"]),isEditMerchant(){return this.$route.name==="admin-service-provider-edit"},merchantData(){return[{name:"title",type:"text",label:this.$t("admin_merchant.fields.title"),error:"v$.merchant.title.$error",errorText:this.v$.merchant.title.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.title.$touch()"},{name:"description",type:"text",label:this.$t("admin_merchant.fields.description"),error:"v$.merchant.description.$error",errorText:this.v$.merchant.description.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.description.$touch()"},{name:"address",type:"text",label:this.$t("admin_merchant.fields.address"),error:"v$.merchant.address.$error",errorText:this.v$.merchant.address.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.address.$touch()"},{name:"email",type:"email",label:this.$t("admin_merchant.fields.email"),error:"v$.merchant.email.$error",errorText:this.v$.merchant.email.required.$invalid&&this.$t("errors.required")||this.v$.merchant.email.email.$invalid&&this.$t("errors.email"),blur:"v$.merchant.email.$touch()"},{name:"phone",type:"text",label:this.$t("admin_merchant.fields.phone"),error:"v$.merchant.phone.$error",errorText:this.v$.merchant.phone.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.phone.$touch()"},{name:"cr_number",type:"text",label:this.$t("admin_merchant.fields.cr_number"),error:"v$.merchant.cr_number.$error",errorText:this.v$.merchant.cr_number.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.cr_number.$touch()"},{name:"vat_number",type:"text",label:this.$t("admin_merchant.fields.vat_number"),error:"v$.merchant.vat_number.$error",errorText:this.v$.merchant.vat_number.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.vat_number.$touch()"}]}},methods:{...V(x,["createServiceProvidersAdmin","showServiceProvidersAdmin","updateServiceProvidersAdmin"]),...V(T,["uploadFile"]),actionBtn(){if(this.v$.$touch(),!this.v$.$error)if(this.isEditMerchant){const l=N(this.record,this.merchant);this.updateServiceProvidersAdmin(this.record.id,l);return}else this.createServiceProvidersAdmin({...this.merchant})},async upload(l,e){const b=l.target.files[0],{data:r}=await this.uploadFile(b);this.files[e]=b,this.merchant[e]=r.data.path}}},j={class:"content"},G={class:"d-flex border-b mb-4 pb-4 justify-space-between"},H={class:""},J=n("span",{class:"fa fa-arrow-left"},null,-1),K={class:"mb-4"},O=n("hr",{style:{margin:"1rem 0",color:"#dbdade",border:"0","border-top":"solid",opacity:"1"}},null,-1),Q={class:"mb-4"},R={class:"d-flex align-center ga-2 mb-3 filed__label"},W=n("span",{class:"text-red"},"*",-1),X={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},Y=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),Z={class:"d-flex align-center ga-2 mb-3 filed__label"},ee={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},re=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),le={class:"d-flex align-center ga-2 mb-3 filed__label"},te={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},ne=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),ie={class:"d-flex align-center ga-2 mb-3 filed__label"},ae={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},oe=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),se={class:"d-flex align-center ga-2 mb-3 filed__label"},de={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},me=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1);function ue(l,e,b,r,i,u){const k=f("loader"),_=f("filed-input"),d=f("v-col"),w=f("v-row"),P=f("v-select"),E=f("v-checkbox"),S=f("v-btn");return m(),h("div",j,[l.uiFlags.isLoading?(m(),B(k,{key:0})):(m(),h(g,{key:1},[n("div",G,[n("h2",H,o(u.isEditMerchant?l.$t("service_providers.edit_title"):l.$t("service_providers.add_new")),1),n("button",{class:"d-flex ga-2 align-center",onClick:e[0]||(e[0]=t=>l.$router.go(-1))},[n("span",null,o(l.$t("global.actions.back")),1),J])]),n("h3",K,"1. "+o(l.$t("global.owner_info")),1),a(w,null,{default:s(()=>[u.isEditMerchant?$("",!0):(m(),h(g,{key:0},[a(d,{cols:"12",md:"6"},{default:s(()=>[a(_,{label:l.$t("admin_merchant.fields.owner.name"),modelValue:i.merchant.owner.name,"onUpdate:modelValue":e[1]||(e[1]=t=>i.merchant.owner.name=t),value:i.merchant.owner.name,type:"text",error:r.v$.merchant.owner.name.$error,"error-text":r.v$.merchant.owner.name.required.$invalid&&l.$t("errors.required"),onBlur:e[2]||(e[2]=t=>r.v$.merchant.owner.name.$touch())},null,8,["label","modelValue","value","error","error-text"])]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[a(_,{label:l.$t("admin_merchant.fields.owner.email"),modelValue:i.merchant.owner.email,"onUpdate:modelValue":e[3]||(e[3]=t=>i.merchant.owner.email=t),value:i.merchant.owner.email,type:"email",error:r.v$.merchant.owner.email.$error,"error-text":r.v$.merchant.owner.email.required?.$invalid&&l.$t("errors.required")||r.v$.merchant.owner.email.email?.$invalid&&l.$t("errors.email"),onBlur:e[4]||(e[4]=t=>r.v$.merchant.owner.email.$touch())},null,8,["label","modelValue","value","error","error-text"])]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[a(_,{label:l.$t("global.password"),modelValue:i.merchant.owner.password,"onUpdate:modelValue":e[5]||(e[5]=t=>i.merchant.owner.password=t),value:i.merchant.owner.password,type:"password",error:r.v$.merchant.owner.password.$error,"error-text":r.v$.merchant.owner.password.required.$invalid&&l.$t("errors.required"),onBlur:e[6]||(e[6]=t=>r.v$.merchant.owner.password.$touch()),showPassword:i.showPassword,onShowPassword:e[7]||(e[7]=t=>i.showPassword=!i.showPassword)},null,8,["label","modelValue","value","error","error-text","showPassword"])]),_:1})],64)),a(d,{cols:"12",md:"6"},{default:s(()=>[a(_,{label:l.$t("admin_merchant.fields.phone"),modelValue:i.merchant.owner.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>i.merchant.owner.phone=t),value:i.merchant.owner.phone,type:"text",error:r.v$.merchant.owner.phone.$error,"error-text":r.v$.merchant.owner.phone.required.$invalid&&l.$t("errors.required"),onBlur:e[9]||(e[9]=t=>r.v$.merchant.owner.phone.$touch())},null,8,["label","modelValue","value","error","error-text"])]),_:1})]),_:1}),O,n("h3",Q,"2. "+o(l.$t("global.company_info")),1),a(w,null,{default:s(()=>[(m(!0),h(g,null,I(u.merchantData,(t,M)=>(m(),B(d,{cols:"12",md:"6",key:M},{default:s(()=>[a(_,{label:t.label,modelValue:i.merchant[t.name],"onUpdate:modelValue":q=>i.merchant[t.name]=q,value:i.merchant[t.name],type:t.type,error:r.v$.merchant[t.name].$error,"error-text":t.errorText,onBlur:q=>r.v$.merchant[t.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),a(d,{cols:"12",md:"6"},{default:s(()=>[n("p",R,[n("span",null,o(l.$t("admin_merchant.fields.status")),1),W]),a(P,{modelValue:i.merchant.status,"onUpdate:modelValue":e[10]||(e[10]=t=>i.merchant.status=t),items:i.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl",onBlur:e[11]||(e[11]=t=>r.v$.merchant.status.$touch()),error:r.v$.merchant.status.$dirty&&r.v$.merchant.status.required.$invalid,"no-data-text":l.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","items","error","no-data-text"]),r.v$.merchant.status.$dirty&&r.v$.merchant.status.required.$invalid?(m(),h("p",X,[Y,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[n("p",Z,o(l.$t("admin_merchant.fields.logo")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.logo.$dirty&&r.v$.files.logo.required.$invalid}])},[n("input",{type:"file",onInput:e[12]||(e[12]=t=>u.upload(t,"logo")),onBlur:e[13]||(e[13]=t=>r.v$.files.logo.$touch())},null,32)],2),r.v$.files.logo.$dirty&&r.v$.files.logo.required.$invalid?(m(),h("p",ee,[re,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[n("p",le,o(l.$t("admin_merchant.fields.vat_file")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.vat_file.$dirty&&r.v$.files.vat_file.required.$invalid}])},[n("input",{type:"file",onInput:e[14]||(e[14]=t=>u.upload(t,"vat_file")),onBlur:e[15]||(e[15]=t=>r.v$.files.vat_file.$touch())},null,32)],2),r.v$.files.vat_file.$dirty&&r.v$.files.vat_file.required.$invalid?(m(),h("p",te,[ne,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[n("p",ie,o(l.$t("admin_merchant.fields.cr_file")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.cr_file.$dirty&&r.v$.files.cr_file.required.$invalid}])},[n("input",{type:"file",onInput:e[16]||(e[16]=t=>u.upload(t,"cr_file")),onBlur:e[17]||(e[17]=t=>r.v$.files.cr_file.$touch())},null,32)],2),r.v$.files.cr_file.$dirty&&r.v$.files.cr_file.required.$invalid?(m(),h("p",ae,[oe,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),a(d,{cols:"12",md:"6"},{default:s(()=>[n("p",se,o(l.$t("admin_merchant.fields.sales_agreement_file")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.sales_agreement_file.$dirty&&r.v$.files.sales_agreement_file.required.$invalid}])},[n("input",{type:"file",onInput:e[18]||(e[18]=t=>u.upload(t,"sales_agreement_file")),onBlur:e[19]||(e[19]=t=>r.v$.files.sales_agreement_file.$touch())},null,32)],2),r.v$.files.sales_agreement_file.$dirty&&r.v$.files.sales_agreement_file.required.$invalid?(m(),h("p",de,[me,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(E,{modelValue:i.merchant.can_collect_vat,"onUpdate:modelValue":e[20]||(e[20]=t=>i.merchant.can_collect_vat=t),label:l.$t("global.can_collect_vat"),onBlur:e[21]||(e[21]=t=>r.v$.merchant.can_collect_vat.$touch()),error:r.v$.merchant.can_collect_vat.$dirty&&r.v$.merchant.can_collect_vat.required.$invalid,"hide-details":""},null,8,["modelValue","label","error"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(S,{class:"w-100",color:"primary",size:"large",onClick:u.actionBtn,loading:l.uiFlags.isCreating||l.uiFlags.isUpdated,disabled:l.uiFlags.isCreating||l.uiFlags.isUpdated||r.v$.merchant.$error},{default:s(()=>[D(o(u.isEditMerchant?l.$t("global.actions.edit"):l.$t("global.actions.add")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const be=U(z,[["render",ue]]);export{be as default};
//# sourceMappingURL=ServiceProvidersCreate-jDvoH9CN.js.map
