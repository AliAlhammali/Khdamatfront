import{k as r,l as o}from"./index-CS9bw-lj.js";import{A as n}from"./api.helper-X78EMQNg.js";class s extends n{constructor(){super("merchant-auth")}login(t){return axios.post(`${this.url}/login`,t)}logout(){return axios.post(`${this.url}/logout`)}}const a=new s,h=r("AuthMerchant",{state:()=>({record:null,isLoading:!1}),getters:{},actions:{loginMerchant:async function(e){this.isLoading=!0;try{const{data:t}=await a.login(e);this.record=t.user,$cookies.set("merchant_khadamat_token",t.token,"1m"),$cookies.set("merchant_khadamat_user",t.user,"1m"),o.push({name:"merchant-dashboard"})}catch{return!1}finally{this.isLoading=!1}},logoutMerchant:async function(){try{await a.logout(),$cookies.remove("merchant_khadamat_token"),$cookies.remove("merchant_khadamat_user"),this.record=null,o.push({name:"merchant-login"}),window.location.reload()}catch(e){return e}},checkCookie:function(){const e=$cookies.get("merchant_khadamat_token"),t=$cookies.get("merchant_khadamat_user");e&&t?this.record=t:o.push({name:"merchant-login"})}}});export{h as u};
//# sourceMappingURL=auth.merchant.store-CnySw04z.js.map
