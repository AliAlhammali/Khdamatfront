import{_ as y,m as C,e as b,r as l,o as M,c as w,a as i,w as r,b as o,g as k,t as P,n as S,j as x}from"./index-CS9bw-lj.js";import{D as V}from"./DataTable-ClIaddqw.js";import{C as B}from"./ConfirmDialog-CLTOtqR2.js";import{u as d}from"./categories.merchant.store-hAEm9hUI.js";import"./api.helper-X78EMQNg.js";const F={components:{DataTable:V,ConfirmDialog:B},data(){return{params:{"filter[keyword]":null,perPage:10,page:1},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}],filterStatus:null,filterMainCategory:null}},async mounted(){await this.getCategoriesMerchant(this.params),await this.getMainCategoriesMerchant({"filter[isParent]":1,listing:1})},computed:{...C(d,["records","uiFlags","mainCategories"]),headers(){return[{title:"#",align:"start",sortable:!0,key:"id"},{title:this.$t("admin_categories.fields.title"),align:"start",sortable:!0,key:"title"},{title:this.$t("admin_categories.fields.main_category"),align:"start",sortable:!0,key:"parent"},{title:this.$t("admin_categories.fields.status"),align:"start",sortable:!0,key:"status"},{title:"#",align:"start",sortable:!1,key:"actions"}]},items(){return this.records?.data?.map(t=>({...t,title:t.title?t.title[this.$i18n.locale]:"---",email:t.email?t.email:"---",status:t.status?t.status:"---",parent:t.parent?t.parent.title[this.$i18n.locale]:"---"}))},mainCategoriesList(){return this.mainCategories?.data?.map(t=>({text:t.title[this.$i18n.locale],value:t.id}))}},methods:{...b(d,["getCategoriesMerchant","getMainCategoriesMerchant"]),async filterByStatus(t){this.params["filter[status]"]=t,await this.getCategoriesMerchant(this.params)},async filterByMainCategory(t){this.params["filter[main_category_id]"]=t,await this.getCategoriesMerchant(this.params)},async clearFilter(){this.filterStatus=null,this.filterMainCategory=null,this.params["filter[status]"]=null,this.params["filter[main_category_id]"]=null,await this.getCategoriesMerchant(this.params)},async changePage(t){this.params.page=t,await this.getCategoriesMerchant(this.params)},async changePerPage(t){this.params.perPage=t,this.params.page=1,await this.getCategoriesMerchant(this.params)},async search(t){this.params["filter[keyword]"]=t;const a={"filter[keyword]":t};await this.getCategoriesMerchant(a)}}},L={class:""},z=["disabled"],D={class:"d-flex ga-2 align-center"};function $(t,a,N,T,n,s){const m=l("v-autocomplete"),c=l("v-col"),u=l("v-select"),g=l("v-icon"),h=l("v-row"),p=l("v-tooltip"),_=l("router-link"),f=l("data-table");return M(),w("div",L,[i(f,{title:t.$t("admin_navbar_links.categories"),placeholder:t.$t("admin_merchant.search_placeholder_categories"),headers:s.headers,"slots-items":["status","actions"],isLoading:t.uiFlags?.isLoading,items:s.items,meta:t.records?.meta,hasFilter:!0,onChangePage:s.changePage,onChangePerPage:s.changePerPage,onSearch:s.search},{filter:r(()=>[i(h,null,{default:r(()=>[i(c,{md:"4",cols:"12"},{default:r(()=>[i(m,{modelValue:n.filterMainCategory,"onUpdate:modelValue":[a[0]||(a[0]=e=>n.filterMainCategory=e),a[1]||(a[1]=e=>s.filterByMainCategory(e))],placeholder:t.$t("admin_categories.fields.main_category"),items:s.mainCategoriesList,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl","no-data-text":t.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","placeholder","items","no-data-text"])]),_:1}),i(c,{md:"4",cols:"12"},{default:r(()=>[i(u,{modelValue:n.filterStatus,"onUpdate:modelValue":[a[2]||(a[2]=e=>n.filterStatus=e),a[3]||(a[3]=e=>s.filterByStatus(e))],placeholder:t.$t("admin_merchant.fields.status"),items:n.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl","no-data-text":t.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","placeholder","items","no-data-text"])]),_:1}),i(c,{cols:"2"},{default:r(()=>[o("button",{class:"pa-3 rounded border text-error",onClick:a[4]||(a[4]=(...e)=>s.clearFilter&&s.clearFilter(...e)),disabled:!n.filterStatus&&!n.filterMainCategory},[i(g,{size:"24"},{default:r(()=>[k("mdi mdi-filter-variant-remove")]),_:1})],8,z)]),_:1})]),_:1})]),status:r(({item:e})=>[o("span",{class:S(["badge badge--status",e.item.status==="active"?"badge--success":"badge--danger"])},P(t.$t(`global.status.${e.item.status}`)),3)]),actions:r(({item:e})=>[o("div",D,[i(_,{to:{path:"/merchant/services",query:{category_id:e.item.id}},class:"button button--edit px-2 rounded"},{default:r(()=>[i(p,{text:t.$t("admin_navbar_links.services")},{activator:r(({props:v})=>[o("span",x(v,{class:"mdi mdi-24px mdi-account-group"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"])])]),_:1},8,["title","placeholder","headers","isLoading","items","meta","onChangePage","onChangePerPage","onSearch"])])}const G=y(F,[["render",$]]);export{G as default};
//# sourceMappingURL=CategoriesMerchantList-BVJkY6oR.js.map
