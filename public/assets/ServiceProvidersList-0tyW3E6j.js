import{u as h}from"./serviceProviders.admin.store-Bv9QIKe0.js";import{_ as b,m as P,e as S,r as o,o as y,c as k,b as l,a as i,w as a,g as w,n as x,t as C,j as m}from"./index-CS9bw-lj.js";import{D as $}from"./DataTable-ClIaddqw.js";import{C as A}from"./ConfirmDialog-CLTOtqR2.js";import{s as B}from"./showAlert.helper-B16U-n7m.js";import"./api.helper-X78EMQNg.js";const F={components:{DataTable:$,ConfirmDialog:A},data(){return{params:{"filter[keyword]":null,perPage:10,page:1},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}],filterStatus:null}},async mounted(){await this.getServiceProvidersAdmin(this.params)},computed:{...P(h,["records","uiFlags"]),headers(){return[{title:"#",align:"start",sortable:!0,key:"id"},{title:this.$t("admin_merchant.fields.title"),align:"start",sortable:!0,key:"title"},{title:this.$t("admin_merchant.fields.phone"),align:"start",sortable:!0,key:"phone"},{title:this.$t("admin_merchant.fields.email"),align:"start",sortable:!0,key:"email"},{title:this.$t("admin_merchant.fields.status"),align:"start",sortable:!0,key:"status"},{title:"#",align:"start",sortable:!1,key:"actions"}]},items(){return this.records?.data.map(e=>({...e,address:e.address?e.address:"---",phone:e.phone?e.phone:"---",email:e.email?e.email:"---",status:e.status?e.status:"---"}))}},methods:{...S(h,["getServiceProvidersAdmin","deleteServiceProvidersAdmin"]),async deleteRecord(e){(await B({title:this.$t("global.actions.delete"),text:this.$t("global.actions.delete_confirmation")+e.title,confirmButtonText:this.$t("global.actions.delete"),cancelButtonText:this.$t("global.actions.cancel")})).isConfirmed&&await this.deleteServiceProvidersAdmin(e.id)},async changePage(e){this.params.page=e,await this.getServiceProvidersAdmin(this.params)},async changePerPage(e){this.params.perPage=e,this.params.page=1,await this.getServiceProvidersAdmin(this.params)},async search(e){this.params["filter[keyword]"]=e;const s={"filter[keyword]":e};await this.getServiceProvidersAdmin(s)},async filterOrderBy(e,s){this.params[s]=e,await this.getServiceProvidersAdmin(this.params)},async clearFilter(){this.filterStatus=null,this.params["filter[status]"]=null,await this.getServiceProvidersAdmin(this.params)}}},V={class:""},D=["disabled"],L={class:"d-flex ga-2 align-center"},T=["onClick"];function z(e,s,N,O,d,r){const v=o("v-select"),u=o("v-col"),g=o("v-icon"),_=o("v-row"),c=o("v-tooltip"),p=o("router-link"),f=o("data-table");return y(),k("div",V,[l("div",null,[i(f,{title:e.$t("admin_navbar_links.services_providers"),placeholder:e.$t("service_providers.search_placeholder"),"create-page":"/admin/service-provider/create",headers:r.headers,"slots-items":["actions","status"],isLoading:e.uiFlags?.isLoading,items:r.items,meta:e.records?.meta,onChangePage:r.changePage,onChangePerPage:r.changePerPage,onSearch:r.search,hasFilter:!0},{filter:a(()=>[i(_,null,{default:a(()=>[i(u,{md:"3",cols:"12"},{default:a(()=>[i(v,{modelValue:d.filterStatus,"onUpdate:modelValue":[s[0]||(s[0]=t=>d.filterStatus=t),s[1]||(s[1]=t=>r.filterOrderBy(t,"filter[status]"))],placeholder:e.$t("admin_merchant.fields.status"),label:e.$t("admin_merchant.fields.status"),items:d.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl","no-data-text":e.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","placeholder","label","items","no-data-text"])]),_:1}),i(u,{cols:"2"},{default:a(()=>[l("button",{class:"pa-3 rounded border text-error",onClick:s[2]||(s[2]=(...t)=>r.clearFilter&&r.clearFilter(...t)),disabled:!d.filterStatus},[i(g,{size:"24"},{default:a(()=>[w("mdi mdi-filter-variant-remove")]),_:1})],8,D)]),_:1})]),_:1})]),status:a(({item:t})=>[l("span",{class:x(["badge badge--status",t.item.status==="active"?"badge--success":"badge--danger"])},C(e.$t(`global.status.${t.item.status}`)),3)]),actions:a(({item:t})=>[l("div",L,[i(p,{to:`/admin/service-provider-users?service_provider_id=${t.item.id}`,class:"button button--edit px-2 rounded"},{default:a(()=>[i(c,{text:e.$t("admin_navbar_links.services_providers_users")},{activator:a(({props:n})=>[l("span",m(n,{class:"mdi mdi-24px mdi-account-group"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),i(p,{to:`/admin/service-provider/${t.item.id}/edit`,class:"button button--edit px-2 rounded"},{default:a(()=>[i(c,{text:e.$t("global.actions.edit")},{activator:a(({props:n})=>[l("span",m(n,{class:"mdi mdi-24px mdi-pencil"}),null,16)]),_:1},8,["text"])]),_:2},1032,["to"]),l("button",{class:"button button--delete px-2 rounded",onClick:n=>r.deleteRecord(t.item)},[i(c,{text:e.$t("global.actions.delete")},{activator:a(({props:n})=>[l("span",m(n,{class:"mdi mdi-24px mdi-delete"}),null,16)]),_:1},8,["text"])],8,T)])]),_:1},8,["title","placeholder","headers","isLoading","items","meta","onChangePage","onChangePerPage","onSearch"])])])}const H=b(F,[["render",z]]);export{H as default};
//# sourceMappingURL=ServiceProvidersList-0tyW3E6j.js.map
