{"version":3,"file":"ClientsMerchantCreate-BCvYDaO5.js","sources":["../../src/views/Merchants/Dashboard/MerchantClients/ClientsMerchantCreate.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <template v-if=\"uiFlags.isLoading\">\r\n      <loader />\r\n    </template>\r\n    <template v-else>\r\n      <div class=\"d-flex border-b mb-4 pb-4 justify-space-between\">\r\n        <h2 class=\"\">\r\n          {{\r\n            isEditDataObj\r\n              ? $t(\"merchant.clients.edit\")\r\n              : $t(\"merchant.clients.add_new\")\r\n          }}\r\n        </h2>\r\n        <button class=\"d-flex ga-2 align-center\" @click=\"$router.go(-1)\">\r\n          <span>\r\n            {{ $t(\"global.actions.back\") }}\r\n          </span>\r\n          <span class=\"fa fa-arrow-left\"></span>\r\n        </button>\r\n      </div>\r\n      <v-row>\r\n        <!-- data -->\r\n        <v-col\r\n          cols=\"12\"\r\n          md=\"6\"\r\n          v-for=\"(item, index) in dataObjData\"\r\n          :key=\"index\"\r\n        >\r\n          <filed-input\r\n            :label=\"item.label\"\r\n            v-model=\"dataObj[item.name]\"\r\n            :value=\"dataObj[item.name]\"\r\n            :type=\"item.type\"\r\n            :error=\"v$.dataObj[item.name].$error\"\r\n            :error-text=\"item.errorText\"\r\n            @blur=\"v$.dataObj[item.name].$touch()\"\r\n          />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\">\r\n          <maps\r\n            :editMode=\"isEditDataObj\"\r\n            :lat=\"dataObj?.location?.lat\"\r\n            :long=\"dataObj?.location?.long\"\r\n            @getLocation=\"getLocation\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\">\r\n          <v-checkbox\r\n            v-model=\"dataObj.is_active\"\r\n            :label=\"$t('global.status.active')\"\r\n            :error=\"v$.dataObj.is_active.$error\"\r\n            @blur=\"v$.dataObj.is_active.$touch()\"\r\n            hide-details\r\n          />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\">\r\n          <v-btn\r\n            class=\"w-100\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            @click=\"actionBtn\"\r\n            :loading=\"uiFlags.isCreating || uiFlags.isUpdated\"\r\n            :disabled=\"\r\n              uiFlags.isCreating || uiFlags.isUpdated || v$.dataObj.$error\r\n            \"\r\n          >\r\n            {{\r\n              isEditDataObj\r\n                ? $t(\"global.actions.edit\")\r\n                : $t(\"global.actions.add\")\r\n            }}\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nimport FiledInput from \"@/components/common/FiledInput.vue\";\r\nimport { mapActions, mapState } from \"pinia\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { required, email } from \"@vuelidate/validators\";\r\nimport Loader from \"@/components/common/Loader.vue\";\r\n\r\nimport { useClientsMerchantStore } from \"@/stores/merchant/clients/clients.merchant.store\";\r\nimport { updateToPatchData } from \"@/helper/update.inputs.helper\";\r\nimport Maps from \"@/components/common/Maps.vue\";\r\n\r\nexport default {\r\n  components: { FiledInput, Loader, Maps },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  validations() {\r\n    return {\r\n      dataObj: {\r\n        name: { required },\r\n        email: { email },\r\n        address: { required },\r\n        phone: { required },\r\n        location: {\r\n          lat: { required },\r\n          long: { required },\r\n        },\r\n        is_active: { required },\r\n      },\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      dataObj: {\r\n        name: null,\r\n        email: null,\r\n        address: null,\r\n        phone: null,\r\n        location: {\r\n          lat: null,\r\n          long: null,\r\n        },\r\n        is_active: null,\r\n      },\r\n    };\r\n  },\r\n  async mounted() {\r\n    if (this.isEditDataObj) {\r\n      const id = this.$route.params.id;\r\n      await this.showClientsMerchant(id);\r\n      this.dataObj = { ...this.record };\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(useClientsMerchantStore, [\"uiFlags\", \"record\"]),\r\n    isEditDataObj() {\r\n      return this.$route.meta.edit;\r\n    },\r\n    dataObjData() {\r\n      return [\r\n        {\r\n          name: \"name\",\r\n          type: \"text\",\r\n          label: this.$t(\"admin_merchant.fields.name\"),\r\n          error: \"v$.dataObj.name.$error\",\r\n          errorText:\r\n            this.v$.dataObj.name.required.$invalid &&\r\n            this.$t(\"errors.required\"),\r\n          blur: \"v$.dataObj.name.$touch()\",\r\n        },\r\n        {\r\n          name: \"email\",\r\n          type: \"email\",\r\n          label: this.$t(\"admin_merchant.fields.email\"),\r\n          error: \"v$.dataObj.email.$error\",\r\n          errorText:\r\n            this.v$.dataObj.email.email.$invalid && this.$t(\"errors.email\"),\r\n          blur: \"v$.dataObj.email.$touch()\",\r\n        },\r\n        {\r\n          name: \"address\",\r\n          type: \"text\",\r\n          label: this.$t(\"admin_merchant.fields.address\"),\r\n          error: \"v$.dataObj.address.$error\",\r\n          errorText:\r\n            this.v$.dataObj.address.required.$invalid &&\r\n            this.$t(\"errors.required\"),\r\n          blur: \"v$.dataObj.address.$touch()\",\r\n        },\r\n        {\r\n          name: \"phone\",\r\n          type: \"text\",\r\n          label: this.$t(\"admin_merchant.fields.phone\"),\r\n          error: \"v$.dataObj.phone.$error\",\r\n          errorText:\r\n            this.v$.dataObj.phone.required.$invalid &&\r\n            this.$t(\"errors.required\"),\r\n          blur: \"v$.dataObj.phone.$touch()\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(useClientsMerchantStore, [\r\n      \"createClientsMerchant\",\r\n      \"showClientsMerchant\",\r\n      \"updateClientsMerchant\",\r\n    ]),\r\n\r\n    actionBtn() {\r\n      this.v$.$touch();\r\n      if (this.v$.$error) return;\r\n      if (this.isEditDataObj) {\r\n        const data = updateToPatchData(this.dataObj, this.record);\r\n        this.updateClientsMerchant(this.record.id, data);\r\n        return;\r\n      } else {\r\n        this.createClientsMerchant({ ...this.dataObj });\r\n      }\r\n    },\r\n    getLocation(address) {\r\n      this.dataObj.address = address.title;\r\n      this.dataObj.location = {\r\n        lat: address.lat,\r\n        long: address.long,\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["_sfc_main","FiledInput","Loader","Maps","useVuelidate","required","email","id","mapState","useClientsMerchantStore","mapActions","data","updateToPatchData","address","_hoisted_1","_hoisted_2","_hoisted_3","_createElementVNode","_openBlock","_createElementBlock","_ctx","_createBlock","_component_loader","_Fragment","_toDisplayString","$options","_cache","$event","_hoisted_4","_createVNode","_component_v_row","_withCtx","_renderList","item","index","_component_v_col","_component_filed_input","$data","$setup","_component_maps","_component_v_checkbox","_component_v_btn","_createTextVNode"],"mappings":"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"}