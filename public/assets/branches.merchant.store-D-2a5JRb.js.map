{"version":3,"file":"branches.merchant.store-D-2a5JRb.js","sources":["../../src/services/merchant/branches/branches.merchant.service.js","../../src/stores/merchant/branches/branches.merchant.store.js"],"sourcesContent":["import ApiClient from \"@/helper/api.helper\";\r\n\r\nclass BranchesMerchant extends ApiClient {\r\n  constructor() {\r\n    super(\"merchant/branches\");\r\n  }\r\n\r\n  get(params) {\r\n    return axios.get(this.url, { params });\r\n  }\r\n}\r\n\r\nexport default new BranchesMerchant();\r\n","import { defineStore } from \"pinia\";\r\nimport router from \"@/router\";\r\nimport BranchesMerchant from \"@/services/merchant/branches/branches.merchant.service\";\r\nimport { useToast } from \"vue-toastification\";\r\nimport { i18n } from \"@/plugins/I18n\";\r\n\r\nconst toast = useToast();\r\n\r\nexport const useBranchesMerchantStore = defineStore(\"BranchesMerchant\", {\r\n  state: () => ({\r\n    records: [],\r\n    record: {},\r\n    uiFlags: {\r\n      isLoading: false,\r\n      isCreated: false,\r\n      isUpdated: false,\r\n      isDeleted: false,\r\n    },\r\n  }),\r\n  getters: {},\r\n  actions: {\r\n    getBranchesMerchant: async function(params) {\r\n      this.uiFlags.isLoading = true;\r\n      try {\r\n        const { data } = await BranchesMerchant.get(params);\r\n        this.records = data;\r\n      } catch (error) {\r\n        return error;\r\n      } finally {\r\n        this.uiFlags.isLoading = false;\r\n      }\r\n    },\r\n    showBranchesMerchant: async function(id) {\r\n      this.uiFlags.isLoading = true;\r\n      try {\r\n        const { data } = await BranchesMerchant.show(id);\r\n        this.record = data.data;\r\n      } catch (error) {\r\n        return error;\r\n      } finally {\r\n        this.uiFlags.isLoading = false;\r\n      }\r\n    },\r\n    createBranchesMerchant: async function(payload, goList = true) {\r\n      this.uiFlags.isCreated = true;\r\n      try {\r\n        const { data } = await BranchesMerchant.create(payload);\r\n        if (goList) {\r\n          router.push({ name: \"branches-merchant-dashboard\" });\r\n        }\r\n        toast.success(i18n.global.t(\"global.actions.add_success\"));\r\n        return data;\r\n      } catch (error) {\r\n        toast.error(i18n.global.t(\"global.actions.add_error\"));\r\n        return error;\r\n      } finally {\r\n        this.uiFlags.isCreated = false;\r\n      }\r\n    },\r\n    updateBranchesMerchant: async function(id, payload) {\r\n      this.uiFlags.isUpdated = true;\r\n      try {\r\n        await BranchesMerchant.update(id, payload);\r\n        router.push({ name: \"branches-merchant-dashboard\" });\r\n        toast.success(i18n.global.t(\"global.actions.edit_success\"));\r\n      } catch (error) {\r\n        toast.error(i18n.global.t(\"global.actions.edit_error\"));\r\n        return error;\r\n      } finally {\r\n        this.uiFlags.isUpdated = false;\r\n      }\r\n    },\r\n    deleteBranchesMerchant: async function(id) {\r\n      this.uiFlags.isDeleted = true;\r\n      try {\r\n        await BranchesMerchant.delete(id);\r\n        this.getBranchesMerchant();\r\n        toast.success(i18n.global.t(\"global.actions.delete_success\"));\r\n      } catch (error) {\r\n        toast.error(i18n.global.t(\"global.actions.delete_error\"));\r\n        return error;\r\n      } finally {\r\n        this.uiFlags.isDeleted = false;\r\n      }\r\n    },\r\n  },\r\n});\r\n"],"names":["BranchesMerchant","ApiClient","params","BranchesMerchant$1","toast","useToast","useBranchesMerchantStore","defineStore","data","error","id","payload","goList","router","i18n"],"mappings":"0GAEA,MAAMA,UAAyBC,CAAU,CACvC,aAAc,CACZ,MAAM,mBAAmB,CAC1B,CAED,IAAIC,EAAQ,CACV,OAAO,MAAM,IAAI,KAAK,IAAK,CAAE,OAAAA,CAAM,CAAE,CACtC,CACH,CAEA,MAAeC,EAAA,IAAIH,ECNbI,EAAQC,EAAQ,EAETC,EAA2BC,EAAY,mBAAoB,CACtE,MAAO,KAAO,CACZ,QAAS,CAAE,EACX,OAAQ,CAAE,EACV,QAAS,CACP,UAAW,GACX,UAAW,GACX,UAAW,GACX,UAAW,EACZ,CACL,GACE,QAAS,CAAE,EACX,QAAS,CACP,oBAAqB,eAAeL,EAAQ,CAC1C,KAAK,QAAQ,UAAY,GACzB,GAAI,CACF,KAAM,CAAE,KAAAM,CAAI,EAAK,MAAMR,EAAiB,IAAIE,CAAM,EAClD,KAAK,QAAUM,CAChB,OAAQC,EAAO,CACd,OAAOA,CACf,QAAgB,CACR,KAAK,QAAQ,UAAY,EAC1B,CACF,EACD,qBAAsB,eAAeC,EAAI,CACvC,KAAK,QAAQ,UAAY,GACzB,GAAI,CACF,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMR,EAAiB,KAAKU,CAAE,EAC/C,KAAK,OAASF,EAAK,IACpB,OAAQC,EAAO,CACd,OAAOA,CACf,QAAgB,CACR,KAAK,QAAQ,UAAY,EAC1B,CACF,EACD,uBAAwB,eAAeE,EAASC,EAAS,GAAM,CAC7D,KAAK,QAAQ,UAAY,GACzB,GAAI,CACF,KAAM,CAAE,KAAAJ,CAAI,EAAK,MAAMR,EAAiB,OAAOW,CAAO,EACtD,OAAIC,GACFC,EAAO,KAAK,CAAE,KAAM,6BAA+B,CAAA,EAErDT,EAAM,QAAQU,EAAK,OAAO,EAAE,4BAA4B,CAAC,EAClDN,CACR,OAAQC,EAAO,CACd,OAAAL,EAAM,MAAMU,EAAK,OAAO,EAAE,0BAA0B,CAAC,EAC9CL,CACf,QAAgB,CACR,KAAK,QAAQ,UAAY,EAC1B,CACF,EACD,uBAAwB,eAAeC,EAAIC,EAAS,CAClD,KAAK,QAAQ,UAAY,GACzB,GAAI,CACF,MAAMX,EAAiB,OAAOU,EAAIC,CAAO,EACzCE,EAAO,KAAK,CAAE,KAAM,6BAA+B,CAAA,EACnDT,EAAM,QAAQU,EAAK,OAAO,EAAE,6BAA6B,CAAC,CAC3D,OAAQL,EAAO,CACd,OAAAL,EAAM,MAAMU,EAAK,OAAO,EAAE,2BAA2B,CAAC,EAC/CL,CACf,QAAgB,CACR,KAAK,QAAQ,UAAY,EAC1B,CACF,EACD,uBAAwB,eAAeC,EAAI,CACzC,KAAK,QAAQ,UAAY,GACzB,GAAI,CACF,MAAMV,EAAiB,OAAOU,CAAE,EAChC,KAAK,oBAAmB,EACxBN,EAAM,QAAQU,EAAK,OAAO,EAAE,+BAA+B,CAAC,CAC7D,OAAQL,EAAO,CACd,OAAAL,EAAM,MAAMU,EAAK,OAAO,EAAE,6BAA6B,CAAC,EACjDL,CACf,QAAgB,CACR,KAAK,QAAQ,UAAY,EAC1B,CACF,CACF,CACH,CAAC"}