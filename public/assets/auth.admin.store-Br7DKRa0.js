import{k as i,l as a}from"./index-CS9bw-lj.js";import{A as n}from"./api.helper-X78EMQNg.js";class s extends n{constructor(){super("admin-auth")}login(o){return axios.post(`${this.url}/login`,o)}logout(){return axios.post(`${this.url}/logout`)}}const e=new s,u=i("AuthAdmin",{state:()=>({record:null,isLoading:!1}),getters:{},actions:{loginAdmin:async function(t){this.isLoading=!0;try{const{data:o}=await e.login(t);this.record=o.user,$cookies.set("admin_khadamat_token",o.token,"1m"),$cookies.set("admin_khadamat_user",o.user,"1m"),a.push({name:"admin-dashboard"})}catch{return!1}finally{this.isLoading=!1}},logoutAdmin:async function(){await e.logout(),$cookies.remove("admin_khadamat_token"),$cookies.remove("admin_khadamat_user"),this.record=null,a.push({name:"admin-login"}),window.location.reload()},checkCookie:function(){const t=$cookies.get("admin_khadamat_token"),o=$cookies.get("admin_khadamat_user");t&&o?this.record=o:a.push({name:"admin-login"})}}});export{u};
//# sourceMappingURL=auth.admin.store-Br7DKRa0.js.map
