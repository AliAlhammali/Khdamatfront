import{F as V,u as T,r as n,e as B}from"./index-COJIqLJ_.js";import{u as p}from"./merchant.admin.store-CfqCq9f2.js";import{u as A}from"./upload.store-D2_zDjX1.js";import{_ as C,m as j,e as $,r as u,o as m,c as _,f as v,F as b,b as r,t as l,a as o,w as s,h as M,i as S,g as I}from"./index-CS9bw-lj.js";import{L as U}from"./Loader-B8eGEbwu.js";import{u as D}from"./update.inputs.helper-BL7S9VQe.js";import"./api.helper-X78EMQNg.js";const L={components:{FiledInput:V,Loader:U},setup(){return{v$:T()}},validations(){return{record:{title:{required:n},description:{required:n},address:{required:n},status:{required:n},email:{required:n,email:B},phone:{required:n},cr_number:{required:n},vat_number:{required:n}}}},data(){return{merchant:{title:null,description:null,address:null,status:null,email:null,phone:null,logo:null,vat_file:null,cr_file:null,sales_agreement_file:null,cr_number:null,vat_number:null},files:{},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}]}},async mounted(){const e=this.$route.params.id;await this.showMerchantAdmin(e),this.merchant={...this.record}},computed:{...j(p,["uiFlags","record"]),objData(){return[{name:"title",type:"text",label:this.$t("admin_merchant.fields.title"),error:"v$.record.title.$error",errorText:this.v$.record.title.required.$invalid&&this.$t("errors.required"),blur:"v$.record.title.$touch()"},{name:"description",type:"text",label:this.$t("admin_merchant.fields.description"),error:"v$.record.description.$error",errorText:this.v$.record.description.required.$invalid&&this.$t("errors.required"),blur:"v$.record.description.$touch()"},{name:"address",type:"text",label:this.$t("admin_merchant.fields.address"),error:"v$.record.address.$error",errorText:this.v$.record.address.required.$invalid&&this.$t("errors.required"),blur:"v$.record.address.$touch()"},{name:"email",type:"email",label:this.$t("admin_merchant.fields.email"),error:"v$.record.email.$error",errorText:this.v$.record.email.required.$invalid&&this.$t("errors.required")||this.v$.record.email.email.$invalid&&this.$t("errors.email"),blur:"v$.record.email.$touch()"},{name:"phone",type:"text",label:this.$t("admin_merchant.fields.phone"),error:"v$.record.phone.$error",errorText:this.v$.record.phone.required.$invalid&&this.$t("errors.required"),blur:"v$.record.phone.$touch()"},{name:"cr_number",type:"text",label:this.$t("admin_merchant.fields.cr_number"),error:"v$.record.cr_number.$error",errorText:this.v$.record.cr_number.required.$invalid&&this.$t("errors.required"),blur:"v$.record.cr_number.$touch()"},{name:"vat_number",type:"text",label:this.$t("admin_merchant.fields.vat_number"),error:"v$.record.vat_number.$error",errorText:this.v$.record.vat_number.required.$invalid&&this.$t("errors.required"),blur:"v$.record.vat_number.$touch()"}]}},methods:{...$(p,["createMerchantAdmin","showMerchantAdmin","updateMerchantAdmin"]),...$(A,["uploadFile"]),actionBtn(){if(this.v$.$touch(),this.v$.$error)return;const e=D(this.record,this.merchant);this.updateMerchantAdmin(this.$route.params.id,e)},async upload(e,a){const h=e.target.files[0],{data:i}=await this.uploadFile(h);this.files[a]=h,this.record[a]=i.data.path}}},N={class:"content"},z={class:"d-flex border-b mb-4 pb-4 justify-space-between"},E={class:""},G=r("span",{class:"fa fa-arrow-left"},null,-1),P={class:"d-flex align-center ga-2 mb-3 filed__label"},H=r("span",{class:"text-red"},"*",-1),J={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},K=r("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),O={class:"d-flex align-center justify-space-between mb-3"},Q={class:"d-flex align-center ga-2 filed__label"},R=["href"],W={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"},X={class:"d-flex align-center justify-space-between mb-3"},Y={class:"d-flex align-center ga-2 filed__label"},Z=["href"],ee={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"},re={class:"d-flex align-center justify-space-between mb-3"},te={class:"d-flex align-center ga-2 filed__label"},ae=["href"],le={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"},ie={class:"d-flex align-center justify-space-between mb-3"},oe={class:"d-flex align-center ga-2 filed__label"},se=["href"],ne={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"};function de(e,a,h,i,g,c){const y=u("loader"),w=u("v-select"),d=u("v-col"),q=u("filed-input"),x=u("v-btn"),k=u("v-row");return m(),_("div",N,[e.uiFlags.isLoading?(m(),v(y,{key:0})):(m(),_(b,{key:1},[r("div",z,[r("h2",E,l(e.$t("admin_merchant.edit_title")),1),r("button",{class:"d-flex ga-2 align-center",onClick:a[0]||(a[0]=t=>e.$router.go(-1))},[r("span",null,l(e.$t("global.actions.back")),1),G])]),o(k,null,{default:s(()=>[o(d,{cols:"12",md:"6"},{default:s(()=>[r("p",P,[r("span",null,l(e.$t("admin_merchant.fields.status")),1),H]),o(w,{modelValue:e.record.status,"onUpdate:modelValue":a[1]||(a[1]=t=>e.record.status=t),items:g.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl",onBlur:a[2]||(a[2]=t=>i.v$.record.status.$touch()),error:i.v$.record.status.$dirty&&i.v$.record.status.required.$invalid,"hide-details":"","no-data-text":e.$t("global.actions.no_data")},null,8,["modelValue","items","error","no-data-text"]),i.v$.record.status.$dirty&&i.v$.record.status.required.$invalid?(m(),_("p",J,[K,r("span",null,l(e.$t("errors.required")),1)])):M("",!0)]),_:1}),(m(!0),_(b,null,S(c.objData,(t,F)=>(m(),v(d,{cols:"12",md:"6",key:F},{default:s(()=>[o(q,{label:t.label,modelValue:e.record[t.name],"onUpdate:modelValue":f=>e.record[t.name]=f,value:e.record[t.name],type:t.type,error:i.v$.record[t.name].$error,"error-text":t.errorText,onBlur:f=>i.v$.record[t.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",O,[r("p",Q,l(e.$t("admin_merchant.fields.logo")),1),r("a",{href:e.record.logo,target:"_blank",class:"main-color"},l(e.$t("global.actions.view_file")),9,R)]),r("label",W,[r("input",{type:"file",onInput:a[3]||(a[3]=t=>c.upload(t,"logo"))},null,32)])]),_:1}),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",X,[r("p",Y,l(e.$t("admin_merchant.fields.vat_file")),1),r("a",{href:e.record.vat_file,target:"_blank",class:"main-color"},l(e.$t("global.actions.view_file")),9,Z)]),r("label",ee,[r("input",{type:"file",onInput:a[4]||(a[4]=t=>c.upload(t,"vat_file"))},null,32)])]),_:1}),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",re,[r("p",te,l(e.$t("admin_merchant.fields.cr_file")),1),r("a",{href:e.record.cr_file,target:"_blank",class:"main-color"},l(e.$t("global.actions.view_file")),9,ae)]),r("label",le,[r("input",{type:"file",onInput:a[5]||(a[5]=t=>c.upload(t,"cr_file"))},null,32)])]),_:1}),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",ie,[r("p",oe,l(e.$t("admin_merchant.fields.sales_agreement_file")),1),r("a",{href:e.record.sales_agreement_file,target:"_blank",class:"main-color"},l(e.$t("global.actions.view_file")),9,se)]),r("label",ne,[r("input",{type:"file",onInput:a[6]||(a[6]=t=>c.upload(t,"sales_agreement_file"))},null,32)])]),_:1}),o(d,{cols:"12"},{default:s(()=>[o(x,{class:"w-100",color:"primary",size:"large",onClick:c.actionBtn,loading:e.uiFlags.isCreating||e.uiFlags.isUpdated,disabled:e.uiFlags.isCreating||e.uiFlags.isUpdated||i.v$.record.$error},{default:s(()=>[I(l(e.$t("global.actions.edit")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const $e=C(L,[["render",de]]);export{$e as default};
//# sourceMappingURL=MerchantEdit-D_GtNN6F.js.map
