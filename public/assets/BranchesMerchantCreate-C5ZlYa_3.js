import{F as y,u as w,r as d}from"./index-COJIqLJ_.js";import{_ as V,m as D,e as F,r as o,o as c,c as m,f as v,F as j,b as u,t as h,a as t,w as l,i as C,g as L}from"./index-CS9bw-lj.js";import{L as E}from"./Loader-B8eGEbwu.js";import{u as O}from"./branches.merchant.store-D-2a5JRb.js";import{u as q}from"./update.inputs.helper-BL7S9VQe.js";import{M as T}from"./Maps-Cb9r27sT.js";import"./api.helper-X78EMQNg.js";import"./geosearch.module-C3uEVW0W.js";const U={components:{FiledInput:y,Loader:E,Maps:T},setup(){return{v$:w()}},validations(){return{dataObj:{name:{required:d},address:{required:d},location:{lat:{required:d},long:{required:d}},is_active:{required:d}}}},data(){return{dataObj:{name:null,address:null,location:{lat:null,long:null},is_active:null}}},async mounted(){if(this.isEditDataObj){const a=this.$route.params.id;await this.showBranchesMerchant(a),this.dataObj={...this.record}}},computed:{...D(O,["uiFlags","record"]),isEditDataObj(){return this.$route.meta.edit},dataObjData(){return[{name:"name",type:"text",label:this.$t("admin_merchant.fields.name"),error:"v$.dataObj.name.$error",errorText:this.v$.dataObj.name.required.$invalid&&this.$t("errors.required"),blur:"v$.dataObj.name.$touch()"},{name:"address",type:"text",label:this.$t("admin_merchant.fields.address"),error:"v$.dataObj.address.$error",errorText:this.v$.dataObj.address.required.$invalid&&this.$t("errors.required"),blur:"v$.dataObj.address.$touch()"}]}},methods:{...F(O,["createBranchesMerchant","showBranchesMerchant","updateBranchesMerchant"]),actionBtn(){if(this.v$.$touch(),!this.v$.$error)if(this.isEditDataObj){const a=q(this.dataObj,this.record);this.updateBranchesMerchant(this.record.id,a);return}else this.createBranchesMerchant({...this.dataObj})},getLocation(a){this.dataObj.address=a.title,this.dataObj.location={lat:a.lat,long:a.long}}}},x={class:"content"},N={class:"d-flex border-b mb-4 pb-4 justify-space-between"},S={class:""},G=u("span",{class:"fa fa-arrow-left"},null,-1);function z(a,n,A,i,r,s){const _=o("loader"),f=o("filed-input"),b=o("v-col"),g=o("Maps"),$=o("v-checkbox"),B=o("v-btn"),M=o("v-row");return c(),m("div",x,[a.uiFlags.isLoading?(c(),v(_,{key:0})):(c(),m(j,{key:1},[u("div",N,[u("h2",S,h(s.isEditDataObj?a.$t("merchant.clients.edit"):a.$t("merchant.clients.add_new")),1),u("button",{class:"d-flex ga-2 align-center",onClick:n[0]||(n[0]=e=>a.$router.go(-1))},[u("span",null,h(a.$t("global.actions.back")),1),G])]),t(M,null,{default:l(()=>[(c(!0),m(j,null,C(s.dataObjData,(e,k)=>(c(),v(b,{cols:"12",md:"6",key:k},{default:l(()=>[t(f,{label:e.label,modelValue:r.dataObj[e.name],"onUpdate:modelValue":p=>r.dataObj[e.name]=p,value:r.dataObj[e.name],type:e.type,error:i.v$.dataObj[e.name].$error,"error-text":e.errorText,onBlur:p=>i.v$.dataObj[e.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),t(b,{cols:"12"},{default:l(()=>[t(g,{editMode:s.isEditDataObj,lat:r.dataObj?.location?.lat,long:r.dataObj?.location?.long,onGetLocation:s.getLocation},null,8,["editMode","lat","long","onGetLocation"])]),_:1}),t(b,{cols:"12"},{default:l(()=>[t($,{modelValue:r.dataObj.is_active,"onUpdate:modelValue":n[1]||(n[1]=e=>r.dataObj.is_active=e),label:a.$t("global.status.active"),error:i.v$.dataObj.is_active.$error,onBlur:n[2]||(n[2]=e=>i.v$.dataObj.is_active.$touch()),"hide-details":""},null,8,["modelValue","label","error"])]),_:1}),t(b,{cols:"12"},{default:l(()=>[t(B,{class:"w-100",color:"primary",size:"large",onClick:s.actionBtn,loading:a.uiFlags.isCreating||a.uiFlags.isUpdated,disabled:a.uiFlags.isCreating||a.uiFlags.isUpdated||i.v$.dataObj.$error},{default:l(()=>[L(h(s.isEditDataObj?a.$t("global.actions.edit"):a.$t("global.actions.add")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const X=V(U,[["render",z]]);export{X as default};
//# sourceMappingURL=BranchesMerchantCreate-C5ZlYa_3.js.map
