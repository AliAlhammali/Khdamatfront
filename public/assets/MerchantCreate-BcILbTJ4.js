import{F as C,u as A,r as h,e as y,a as v}from"./index-COJIqLJ_.js";import{u as x}from"./merchant.admin.store-CfqCq9f2.js";import{u as T}from"./upload.store-D2_zDjX1.js";import{_ as U,m as P,e as V,r as f,o as m,c,f as M,F as b,b as n,t as o,a as i,w as s,h as $,i as S,n as p,g as I}from"./index-CS9bw-lj.js";import{L}from"./Loader-B8eGEbwu.js";import"./api.helper-X78EMQNg.js";const N={components:{FiledInput:C,Loader:L},setup(){return{v$:A()}},validations(){return{merchant:{title:{required:h},description:{required:h},address:{required:h},status:{required:h},email:{required:h,email:y},phone:{required:h},cr_number:{required:h},vat_number:{required:h},owner:{name:{required:v(()=>!this.isEditMerchant)},phone:{required:v(()=>!this.isEditMerchant)},email:{required:v(()=>!this.isEditMerchant),email:y},password:{required:v(()=>!this.isEditMerchant)}}},files:{logo:{required:v(()=>!this.isEditMerchant)},vat_file:{required:v(()=>!this.isEditMerchant)},cr_file:{required:v(()=>!this.isEditMerchant)},sales_agreement_file:{required:v(()=>!this.isEditMerchant)}}}},data(){return{merchant:{title:null,description:null,address:null,status:null,email:null,phone:null,logo:null,vat_file:null,cr_file:null,sales_agreement_file:null,cr_number:null,vat_number:null,owner:{name:null,email:null,password:null,phone:null}},files:{logo:null,vat_file:null,cr_file:null,sales_agreement_file:null},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}],showPassword:!1}},async mounted(){if(this.isEditMerchant){const l=this.$route.params.id;await this.showMerchantAdmin(l),this.merchant={...this.record}}},computed:{...P(x,["uiFlags","record"]),isEditMerchant(){return this.$route.name==="admin-merchant-edit"},merchantData(){return[{name:"title",type:"text",label:this.$t("admin_merchant.fields.title"),error:"v$.merchant.title.$error",errorText:this.v$.merchant.title.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.title.$touch()"},{name:"description",type:"text",label:this.$t("admin_merchant.fields.description"),error:"v$.merchant.description.$error",errorText:this.v$.merchant.description.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.description.$touch()"},{name:"address",type:"text",label:this.$t("admin_merchant.fields.address"),error:"v$.merchant.address.$error",errorText:this.v$.merchant.address.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.address.$touch()"},{name:"email",type:"email",label:this.$t("admin_merchant.fields.email"),error:"v$.merchant.email.$error",errorText:this.v$.merchant.email.required.$invalid&&this.$t("errors.required")||this.v$.merchant.email.email.$invalid&&this.$t("errors.email"),blur:"v$.merchant.email.$touch()"},{name:"phone",type:"text",label:this.$t("admin_merchant.fields.phone"),error:"v$.merchant.phone.$error",errorText:this.v$.merchant.phone.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.phone.$touch()"},{name:"cr_number",type:"text",label:this.$t("admin_merchant.fields.cr_number"),error:"v$.merchant.cr_number.$error",errorText:this.v$.merchant.cr_number.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.cr_number.$touch()"},{name:"vat_number",type:"text",label:this.$t("admin_merchant.fields.vat_number"),error:"v$.merchant.vat_number.$error",errorText:this.v$.merchant.vat_number.required.$invalid&&this.$t("errors.required"),blur:"v$.merchant.vat_number.$touch()"}]}},methods:{...V(x,["createMerchantAdmin","showMerchantAdmin","updateMerchantAdmin"]),...V(T,["uploadFile"]),actionBtn(){if(this.v$.$touch(),!this.v$.$error)if(this.isEditMerchant){this.updateMerchantAdmin({...this.merchant});return}else this.createMerchantAdmin({...this.merchant})},async upload(l,e){const g=l.target.files[0],{data:r}=await this.uploadFile(g);this.files[e]=g,this.merchant[e]=r.data.path}}},z={class:"content"},D={class:"d-flex border-b mb-4 pb-4 justify-space-between"},j={class:""},G=n("span",{class:"fa fa-arrow-left"},null,-1),H={class:"mb-4"},J=n("hr",null,null,-1),K=n("hr",{style:{margin:"1rem 0",color:"#dbdade",border:"0","border-top":"solid",opacity:"1"}},null,-1),O={class:"mb-4"},Q={class:"d-flex align-center ga-2 mb-3 filed__label"},R=n("span",{class:"text-red"},"*",-1),W={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},X=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),Y={class:"d-flex align-center ga-2 mb-3 filed__label"},Z={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},ee=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),re={class:"d-flex align-center ga-2 mb-3 filed__label"},le={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},te=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),ne={class:"d-flex align-center ga-2 mb-3 filed__label"},ae={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},ie=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),oe={class:"d-flex align-center ga-2 mb-3 filed__label"},se={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},de=n("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1);function me(l,e,g,r,a,u){const B=f("loader"),_=f("filed-input"),d=f("v-col"),w=f("v-row"),k=f("v-select"),E=f("v-btn");return m(),c("div",z,[l.uiFlags.isLoading?(m(),M(B,{key:0})):(m(),c(b,{key:1},[n("div",D,[n("h2",j,o(u.isEditMerchant?l.$t("admin_merchant.edit_title"):l.$t("admin_merchant.add_new")),1),n("button",{class:"d-flex ga-2 align-center",onClick:e[0]||(e[0]=t=>l.$router.go(-1))},[n("span",null,o(l.$t("global.actions.back")),1),G])]),n("h3",H,"1. "+o(l.$t("global.owner_info")),1),i(w,null,{default:s(()=>[u.isEditMerchant?$("",!0):(m(),c(b,{key:0},[i(d,{cols:"12",md:"6"},{default:s(()=>[i(_,{label:l.$t("admin_merchant.fields.owner.name"),modelValue:a.merchant.owner.name,"onUpdate:modelValue":e[1]||(e[1]=t=>a.merchant.owner.name=t),value:a.merchant.owner.name,type:"text",error:r.v$.merchant.owner.name.$error,"error-text":r.v$.merchant.owner.name.required.$invalid&&l.$t("errors.required"),onBlur:e[2]||(e[2]=t=>r.v$.merchant.owner.name.$touch())},null,8,["label","modelValue","value","error","error-text"])]),_:1}),i(d,{cols:"12",md:"6"},{default:s(()=>[i(_,{label:l.$t("admin_merchant.fields.owner.email"),modelValue:a.merchant.owner.email,"onUpdate:modelValue":e[3]||(e[3]=t=>a.merchant.owner.email=t),value:a.merchant.owner.email,type:"email",error:r.v$.merchant.owner.email.$error,"error-text":r.v$.merchant.owner.email.required?.$invalid&&l.$t("errors.required")||r.v$.merchant.owner.email.email?.$invalid&&l.$t("errors.email"),onBlur:e[4]||(e[4]=t=>r.v$.merchant.owner.email.$touch())},null,8,["label","modelValue","value","error","error-text"])]),_:1}),i(d,{cols:"12",md:"6"},{default:s(()=>[i(_,{label:l.$t("global.password"),modelValue:a.merchant.owner.password,"onUpdate:modelValue":e[5]||(e[5]=t=>a.merchant.owner.password=t),value:a.merchant.owner.password,type:"password",error:r.v$.merchant.owner.password.$error,"error-text":r.v$.merchant.owner.password.required.$invalid&&l.$t("errors.required"),onBlur:e[6]||(e[6]=t=>r.v$.merchant.owner.password.$touch()),showPassword:a.showPassword,onShowPassword:e[7]||(e[7]=t=>a.showPassword=!a.showPassword)},null,8,["label","modelValue","value","error","error-text","showPassword"])]),_:1})],64)),i(d,{cols:"12",md:"6"},{default:s(()=>[i(_,{label:l.$t("admin_merchant.fields.phone"),modelValue:a.merchant.owner.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>a.merchant.owner.phone=t),value:a.merchant.owner.phone,type:"text",error:r.v$.merchant.owner.phone.$error,"error-text":r.v$.merchant.owner.phone.required.$invalid&&l.$t("errors.required"),onBlur:e[9]||(e[9]=t=>r.v$.merchant.owner.phone.$touch())},null,8,["label","modelValue","value","error","error-text"])]),_:1}),J]),_:1}),K,n("h3",O,"2. "+o(l.$t("global.company_info")),1),i(w,null,{default:s(()=>[(m(!0),c(b,null,S(u.merchantData,(t,F)=>(m(),M(d,{cols:"12",md:"6",key:F},{default:s(()=>[i(_,{label:t.label,modelValue:a.merchant[t.name],"onUpdate:modelValue":q=>a.merchant[t.name]=q,value:a.merchant[t.name],type:t.type,error:r.v$.merchant[t.name].$error,"error-text":t.errorText,onBlur:q=>r.v$.merchant[t.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),i(d,{cols:"12",md:"6"},{default:s(()=>[n("p",Q,[n("span",null,o(l.$t("admin_merchant.fields.status")),1),R]),i(k,{placeholder:l.$t("admin_merchant.fields.status"),modelValue:a.merchant.status,"onUpdate:modelValue":e[10]||(e[10]=t=>a.merchant.status=t),items:a.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl",onBlur:e[11]||(e[11]=t=>r.v$.merchant.status.$touch()),error:r.v$.merchant.status.$dirty&&r.v$.merchant.status.required.$invalid,"hide-details":"","no-data-text":l.$t("global.actions.no_data")},null,8,["placeholder","modelValue","items","error","no-data-text"]),r.v$.merchant.status.$dirty&&r.v$.merchant.status.required.$invalid?(m(),c("p",W,[X,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),i(d,{cols:"12",md:"6"},{default:s(()=>[n("p",Y,o(l.$t("admin_merchant.fields.logo")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.logo.$dirty&&r.v$.files.logo.required.$invalid}])},[n("input",{type:"file",onInput:e[12]||(e[12]=t=>u.upload(t,"logo")),onBlur:e[13]||(e[13]=t=>r.v$.files.logo.$touch())},null,32)],2),r.v$.files.logo.$dirty&&r.v$.files.logo.required.$invalid?(m(),c("p",Z,[ee,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),i(d,{cols:"12",md:"6"},{default:s(()=>[n("p",re,o(l.$t("admin_merchant.fields.vat_file")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.vat_file.$dirty&&r.v$.files.vat_file.required.$invalid}])},[n("input",{type:"file",onInput:e[14]||(e[14]=t=>u.upload(t,"vat_file")),onBlur:e[15]||(e[15]=t=>r.v$.files.vat_file.$touch())},null,32)],2),r.v$.files.vat_file.$dirty&&r.v$.files.vat_file.required.$invalid?(m(),c("p",le,[te,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),i(d,{cols:"12",md:"6"},{default:s(()=>[n("p",ne,o(l.$t("admin_merchant.fields.cr_file")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.cr_file.$dirty&&r.v$.files.cr_file.required.$invalid}])},[n("input",{type:"file",onInput:e[16]||(e[16]=t=>u.upload(t,"cr_file")),onBlur:e[17]||(e[17]=t=>r.v$.files.cr_file.$touch())},null,32)],2),r.v$.files.cr_file.$dirty&&r.v$.files.cr_file.required.$invalid?(m(),c("p",ae,[ie,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),i(d,{cols:"12",md:"6"},{default:s(()=>[n("p",oe,o(l.$t("admin_merchant.fields.sales_agreement_file")),1),n("label",{class:p(["filed__input d-flex align-center ga-2 pa-2 rounded-lg",{error:r.v$.files.sales_agreement_file.$dirty&&r.v$.files.sales_agreement_file.required.$invalid}])},[n("input",{type:"file",onInput:e[18]||(e[18]=t=>u.upload(t,"sales_agreement_file")),onBlur:e[19]||(e[19]=t=>r.v$.files.sales_agreement_file.$touch())},null,32)],2),r.v$.files.sales_agreement_file.$dirty&&r.v$.files.sales_agreement_file.required.$invalid?(m(),c("p",se,[de,n("span",null,o(l.$t("errors.required")),1)])):$("",!0)]),_:1}),i(d,{cols:"12"},{default:s(()=>[i(E,{class:"w-100",color:"primary",size:"large",onClick:u.actionBtn,loading:l.uiFlags.isCreating||l.uiFlags.isUpdated,disabled:l.uiFlags.isCreating||l.uiFlags.isUpdated||r.v$.merchant.$error},{default:s(()=>[I(o(u.isEditMerchant?l.$t("global.actions.edit"):l.$t("global.actions.add")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const _e=U(N,[["render",me]]);export{_e as default};
//# sourceMappingURL=MerchantCreate-BcILbTJ4.js.map
