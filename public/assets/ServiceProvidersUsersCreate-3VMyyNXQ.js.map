{"version":3,"file":"ServiceProvidersUsersCreate-3VMyyNXQ.js","sources":["../../src/views/Admin/Dashboard/serviceProvidersUsers/ServiceProvidersUsersCreate.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <template v-if=\"uiFlags.isLoading\">\r\n      <loader />\r\n    </template>\r\n    <template v-else>\r\n      <div class=\"d-flex border-b mb-4 pb-4 justify-space-between\">\r\n        <h2 class=\"\">\r\n          {{\r\n            isEditMerchant\r\n              ? $t(\"admin_merchant.edit_user_title\")\r\n              : $t(\"admin_merchant.add_new_user\")\r\n          }}\r\n        </h2>\r\n        <button class=\"d-flex ga-2 align-center\" @click=\"$router.go(-1)\">\r\n          <span>\r\n            {{ $t(\"global.actions.back\") }}\r\n          </span>\r\n          <span class=\"fa fa-arrow-left\"></span>\r\n        </button>\r\n      </div>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <p class=\"d-flex align-center ga-2 mb-3 filed__label\">\r\n            <span> {{ $t(\"admin_navbar_links.services_providers\") }}</span>\r\n            <span class=\"text-red\">*</span>\r\n          </p>\r\n          <v-select\r\n            v-model=\"merchant.service_provider_id\"\r\n            :items=\"merchants?.data\"\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            menu-icon=\"mdi mdi-chevron-down\"\r\n            class=\"w-100\"\r\n            outlined\r\n            :error=\"\r\n              v$.merchant.service_provider_id.$dirty &&\r\n              v$.merchant.service_provider_id.required.$invalid\r\n            \"\r\n            :no-data-text=\"$t('global.actions.no_data')\"\r\n            hide-details\r\n          />\r\n          <p\r\n            class=\"text-error mt-2 d-flex ga-2 align-center\"\r\n            v-if=\"\r\n              v$.merchant.service_provider_id.$dirty &&\r\n              v$.merchant.service_provider_id.required.$invalid\r\n            \"\r\n          >\r\n            <span class=\"mdi mdi-24px mdi-alert-circle-outline\"></span>\r\n            <span>{{ $t(\"errors.required\") }}</span>\r\n          </p>\r\n        </v-col>\r\n        <v-col\r\n          cols=\"12\"\r\n          md=\"6\"\r\n          v-for=\"(item, index) in merchantData\"\r\n          :key=\"index\"\r\n        >\r\n          <filed-input\r\n            :label=\"item.label\"\r\n            v-model=\"merchant[item.name]\"\r\n            :value=\"merchant[item.name]\"\r\n            :type=\"item.type\"\r\n            :error=\"v$.merchant[item.name].$error\"\r\n            :error-text=\"item.errorText\"\r\n            @blur=\"v$.merchant[item.name].$touch()\"\r\n          />\r\n        </v-col>\r\n\r\n        <v-col md=\"6\" cols=\"12\" v-if=\"!isEditMerchant\">\r\n          <filed-input\r\n            :label=\"$t('admin_merchant.fields.password')\"\r\n            v-model=\"merchant.password\"\r\n            :value=\"merchant.password\"\r\n            type=\"password\"\r\n            :error=\"v$.merchant.password.$error\"\r\n            :error-text=\"\r\n              v$.merchant.password.required.$invalid && $t('errors.required')\r\n            \"\r\n            :show-password=\"showPassword\"\r\n            @show-password=\"showPassword = !showPassword\"\r\n            @blur=\"v$.merchant.password.$touch()\"\r\n          />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\">\r\n          <v-btn\r\n            class=\"w-100\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            @click=\"actionBtn\"\r\n            :loading=\"uiFlags.isCreating || uiFlags.isUpdated\"\r\n            :disabled=\"\r\n              uiFlags.isCreating || uiFlags.isUpdated || v$.merchant.$error\r\n            \"\r\n          >\r\n            {{\r\n              isEditMerchant\r\n                ? $t(\"global.actions.edit\")\r\n                : $t(\"global.actions.add\")\r\n            }}\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nimport FiledInput from \"@/components/common/FiledInput.vue\";\r\nimport { mapActions, mapState } from \"pinia\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { required, email } from \"@vuelidate/validators\";\r\nimport Loader from \"@/components/common/Loader.vue\";\r\n\r\nimport { useServiceProvidersUsersAdminStore } from \"@/stores/admin/serviceProviders/serviceProviderUsers.admin.store\";\r\nimport { useServiceProvidersAdminStore } from \"@/stores/admin/serviceProviders/serviceProviders.admin.store\";\r\nimport { updateToPatchData } from \"@/helper/update.inputs.helper\";\r\n\r\nexport default {\r\n  components: { FiledInput, Loader },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  validations() {\r\n    return {\r\n      merchant: {\r\n        name: { required },\r\n        email: { required, email },\r\n        service_provider_id: { required },\r\n        password: { required },\r\n      },\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      merchant: {\r\n        name: null,\r\n        email: null,\r\n        service_provider_id: null,\r\n        password: null,\r\n      },\r\n      showPassword: false,\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getServiceProvidersAdmin({\r\n      listing: 1,\r\n    });\r\n  },\r\n  async mounted() {\r\n    if (this.isEditMerchant) {\r\n      const id = this.$route.params.id;\r\n      await this.showServiceProvidersUsersAdmin(id);\r\n      this.merchant = { ...this.record };\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(useServiceProvidersAdminStore, {\r\n      merchants: \"records\",\r\n      merchantsUiFlags: \"uiFlags\",\r\n    }),\r\n    ...mapState(useServiceProvidersUsersAdminStore, [\"uiFlags\", \"record\"]),\r\n    isEditMerchant() {\r\n      return this.$route.name === \"admin-service-provider-users-edit\";\r\n    },\r\n    merchantData() {\r\n      return [\r\n        {\r\n          name: \"name\",\r\n          type: \"text\",\r\n          label: this.$t(\"admin_merchant.fields.name\"),\r\n          error: \"v$.merchant.name.$error\",\r\n          errorText:\r\n            this.v$.merchant.name.required.$invalid &&\r\n            this.$t(\"errors.required\"),\r\n          blur: \"v$.merchant.name.$touch()\",\r\n        },\r\n        {\r\n          name: \"email\",\r\n          type: \"email\",\r\n          label: this.$t(\"admin_merchant.fields.email\"),\r\n          error: \"v$.merchant.email.$error\",\r\n          errorText:\r\n            (this.v$.merchant.email.required.$invalid &&\r\n              this.$t(\"errors.required\")) ||\r\n            (this.v$.merchant.email.email.$invalid && this.$t(\"errors.email\")),\r\n          blur: \"v$.merchant.email.$touch()\",\r\n        },\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(useServiceProvidersUsersAdminStore, [\r\n      \"createServiceProvidersUsersAdmin\",\r\n      \"showServiceProvidersUsersAdmin\",\r\n      \"updateServiceProvidersUsersAdmin\",\r\n    ]),\r\n    ...mapActions(useServiceProvidersAdminStore, [\"getServiceProvidersAdmin\"]),\r\n\r\n    actionBtn() {\r\n      this.v$.$touch();\r\n      if (this.v$.$error) return;\r\n      if (this.isEditMerchant) {\r\n        const data = updateToPatchData(this.merchant, this.record);\r\n        this.updateServiceProvidersUsersAdmin(this.record.id, data);\r\n        return;\r\n      } else {\r\n        this.createServiceProvidersUsersAdmin({ ...this.merchant });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["_sfc_main","FiledInput","Loader","useVuelidate","required","email","id","mapState","useServiceProvidersAdminStore","useServiceProvidersUsersAdminStore","mapActions","data","updateToPatchData","_hoisted_1","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_5","_hoisted_6","_openBlock","_createElementBlock","_ctx","_createBlock","_component_loader","_Fragment","_toDisplayString","$options","_cache","$event","_hoisted_4","_createVNode","_component_v_row","_withCtx","_component_v_col","_component_v_select","$data","$setup","_hoisted_7","_hoisted_8","_createCommentVNode","_renderList","item","index","_component_filed_input","_component_v_btn","_createTextVNode"],"mappings":"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"}