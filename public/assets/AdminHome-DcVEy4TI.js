import{C as Y,a as O,h as p,m as C}from"./apexCharts.helper-gFFfeeI0.js";import{k as w,_ as D,q as V,m as P,e as L,r as u,o as U,c as k,b as a,a as t,w as s,t as c,g as d,j as S,p as z,d as x}from"./index-CS9bw-lj.js";import{A}from"./api.helper-X78EMQNg.js";class j extends A{constructor(){super("admin/dashboard")}get_figures(e){return axios.get(`${this.url}/figures`,{params:e})}get_top_merchants_by_orders(e){return axios.get(`${this.url}/top_merchants_by_orders`,{params:e})}get_top_sp_completed_by_orders(e){return axios.get(`${this.url}/top_sp_completed_by_orders`,{params:e})}get_top_services(e){return axios.get(`${this.url}/top_services`,{params:e})}get_top_categories(e){return axios.get(`${this.url}/top_categories`,{params:e})}}const _=new j,M=w("DashboardAdmin",{state:()=>({figures:{records:[],isLoading:!1},topMerchantsByOrders:{records:[],isLoading:!1},topSPCompletedByOrders:{records:[],isLoading:!1},topServices:{records:[],isLoading:!1},topCategories:{records:[],isLoading:!1}}),getters:{},actions:{getFigures:async function(l){this.figures.isLoading=!0;try{const{data:e}=await _.get_figures(l);this.figures.records=e.data}catch(e){return e}finally{this.figures.isLoading=!1}},getTopMerchantsByOrders:async function(l){this.topMerchantsByOrders.isLoading=!0;try{const{data:e}=await _.get_top_merchants_by_orders(l);this.topMerchantsByOrders.records=e.data}catch(e){return e}finally{this.topMerchantsByOrders.isLoading=!1}},getTopSPCompletedByOrders:async function(l){this.topSPCompletedByOrders.isLoading=!0;try{const{data:e}=await _.get_top_sp_completed_by_orders(l);this.topSPCompletedByOrders.records=e.data}catch(e){return e}finally{this.topSPCompletedByOrders.isLoading=!1}},getTopServices:async function(l){this.topServices.isLoading=!0;try{const{data:e}=await _.get_top_services(l);this.topServices.records=e.data}catch(e){return e}finally{this.topServices.isLoading=!1}},getTopCategories:async function(l){this.topCategories.isLoading=!0;try{const{data:e}=await _.get_top_categories(l);this.topCategories.records=e.data}catch(e){return e}finally{this.topCategories.isLoading=!1}}}}),I={components:{ChartBar:Y},data(){return{arSA:O,enUS:V,figuresToggle:!1,figuresStart:new Date,figuresEnd:new Date(new Date().setMonth(new Date().getMonth()-1)),paramsTopMerchantsByOrders:{"filter[date_from]":p().subtract(1,"month").format("YYYY-MM-DD"),"filter[date_to]":p().format("YYYY-MM-DD")},paramsTopSPCompletedByOrders:{"filter[date_from]":p().subtract(1,"month").format("YYYY-MM-DD"),"filter[date_to]":p().format("YYYY-MM-DD")},paramsTopServices:{"filter[date_from]":p().subtract(1,"month").format("YYYY-MM-DD"),"filter[date_to]":p().format("YYYY-MM-DD")},paramsTopCategories:{"filter[date_from]":p().subtract(1,"month").format("YYYY-MM-DD"),"filter[date_to]":p().format("YYYY-MM-DD")},toggleTopMerchantsByOrders:!1,toggleTopSPCompletedByOrders:!1,toggleTopServices:!1,toggleTopCategories:!1}},async mounted(){await this.getFigures(),await this.getTopCategories(this.paramsTopCategories),await this.getTopMerchantsByOrders(this.paramsTopMerchantsByOrders),await this.getTopSPCompletedByOrders(this.paramsTopSPCompletedByOrders),await this.getTopServices(this.paramsTopServices)},computed:{...P(M,["figures","topCategories","topMerchantsByOrders","topSPCompletedByOrders","topServices"]),chartTopMerchantsByOrders(){return C(this.topMerchantsByOrders?.records,["order_count","title"])},chartTopSPCompletedByOrders(){return C(this.topSPCompletedByOrders?.records,["order_count","title"])},chartTopServices(){return C(this.topServices?.records,["order_count","name"],this.$i18n?.locale)},chartTopCategories(){return C(this.topCategories?.records,["order_count","name"],this.$i18n?.locale)}},methods:{moment:p,...L(M,["getFigures","getTopCategories","getTopMerchantsByOrders","getTopSPCompletedByOrders","getTopServices"])}},m=l=>(z("data-v-e9a075f3"),l=l(),x(),l),F={class:"pa-4 bg-white shadow-lg rounded-lg border"},N={class:"figures d-flex align-center ga-4"},E={class:"figure w-100 pa-2 rounded-lg border merchants"},q={class:"d-flex align-center ga-4"},H={class:"figure-icon"},G={class:"figure-value"},J=m(()=>a("div",{class:"figure-title mb-2"},"التجار النشطين",-1)),K={class:"figure w-100 pa-2 rounded-lg border SP"},Q={class:"d-flex align-center ga-4"},R={class:"figure-icon"},W={class:"figure-value"},X=m(()=>a("div",{class:"figure-title mb-2"},"مزودي الخدمة النشطين",-1)),Z={class:"figure w-100 pa-2 rounded-lg border new-order"},$={class:"d-flex align-center ga-4"},ee={class:"figure-icon"},te={class:"figure-value"},re=m(()=>a("div",{class:"figure-title mb-2"},"الطلبات الجديدة",-1)),se={class:"figure w-100 pa-2 rounded-lg border progress-order"},oe={class:"d-flex align-center ga-4"},ae={class:"figure-icon"},le={class:"figure-value"},ie=m(()=>a("div",{class:"figure-title mb-2"},"الطلبات قيد التنفيذ",-1)),de={class:"figure w-100 pa-2 rounded-lg border completed-order"},ne={class:"d-flex align-center ga-4"},pe={class:"figure-icon"},ue={class:"figure-value"},me=m(()=>a("div",{class:"figure-title mb-2"},"الطلبات المكتملة",-1)),fe={class:"bg-white border rounded-lg"},ce={class:"d-flex align-center ga-2 border-b justify-space-between pa-4"},_e=m(()=>a("h3",{class:""},"أفضل الطلبات من التجار",-1)),ge={class:"bg-white border rounded-lg"},ve={class:"d-flex align-center ga-2 border-b justify-space-between pa-4"},he=m(()=>a("h3",{class:""},"أعلى الطلبات المكتملة من مزودي الخدمة",-1)),ye={class:"bg-white border rounded-lg"},Te={class:"d-flex align-center ga-2 border-b justify-space-between pa-4"},be=m(()=>a("h3",{class:""},"أفضل خدمة مدفوعة",-1)),Ce={class:"bg-white border rounded-lg"},Se={class:"d-flex align-center ga-2 border-b justify-space-between pa-4"},Me=m(()=>a("h3",{class:""},"أفضل فئة مدفوعة",-1));function Be(l,e,Ye,Oe,r,g){const i=u("v-icon"),n=u("v-list-item"),f=u("date-picker"),v=u("v-btn"),h=u("v-list"),y=u("v-menu"),T=u("chart-bar"),b=u("v-col"),B=u("v-row");return U(),k("div",null,[a("div",F,[a("div",N,[a("div",E,[a("div",q,[a("div",H,[t(i,{size:"32"},{default:s(()=>[d("mdi mdi-account-tie-outline")]),_:1})]),a("div",G,c(l.figures?.records?.count_of_active_merchants),1)]),J]),a("div",K,[a("div",Q,[a("div",R,[t(i,{size:"32"},{default:s(()=>[d("mdi mdi-account-supervisor-outline")]),_:1})]),a("div",W,c(l.figures?.records?.count_of_active_sp),1)]),X]),a("div",Z,[a("div",$,[a("div",ee,[t(i,{size:"32"},{default:s(()=>[d("mdi mdi-storefront-plus-outline")]),_:1})]),a("div",te,c(l.figures?.records?.count_of_new_orders),1)]),re]),a("div",se,[a("div",oe,[a("div",ae,[t(i,{size:"32"},{default:s(()=>[d("mdi mdi-timer-sand-complete")]),_:1})]),a("div",le,c(l.figures?.records?.count_of_in_progress_orders),1)]),ie]),a("div",de,[a("div",ne,[a("div",pe,[t(i,{size:"32"},{default:s(()=>[d("mdi mdi-storefront-check-outline")]),_:1})]),a("div",ue,c(l.figures?.records?.count_of_completed_orders),1)]),me])])]),t(B,{class:"mt-4"},{default:s(()=>[t(b,{md:"6",cols:"12"},{default:s(()=>[a("div",fe,[a("div",ce,[_e,t(y,{modelValue:r.toggleTopMerchantsByOrders,"onUpdate:modelValue":e[6]||(e[6]=o=>r.toggleTopMerchantsByOrders=o),"close-on-content-click":!1,"close-on-back":!1,persistent:""},{activator:s(({props:o})=>[a("button",S(o,{class:"py-2"}),[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-calendar-month-outline")]),_:1})],16)]),default:s(()=>[t(h,null,{default:s(()=>[t(n,null,{default:s(()=>[a("button",{onClick:e[0]||(e[0]=o=>r.toggleTopMerchantsByOrders=!1),class:"mb-2 text-error"},[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-close")]),_:1})])]),_:1}),t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopMerchantsByOrders["filter[date_from]"],"onUpdate:modelValue":e[1]||(e[1]=o=>r.paramsTopMerchantsByOrders["filter[date_from]"]=o),value:r.paramsTopMerchantsByOrders["filter[date_from]"],"onUpdate:value":e[2]||(e[2]=o=>r.paramsTopMerchantsByOrders["filter[date_from]"]=o),"default-value":r.paramsTopMerchantsByOrders["filter[date_from]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopMerchantsByOrders["filter[date_to]"],"onUpdate:modelValue":e[3]||(e[3]=o=>r.paramsTopMerchantsByOrders["filter[date_to]"]=o),value:r.paramsTopMerchantsByOrders["filter[date_to]"],"onUpdate:value":e[4]||(e[4]=o=>r.paramsTopMerchantsByOrders["filter[date_to]"]=o),"default-value":r.paramsTopMerchantsByOrders["filter[date_to]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(v,{onClick:e[5]||(e[5]=o=>l.getTopMerchantsByOrders(r.paramsTopMerchantsByOrders)),class:"main-btn w-100"},{default:s(()=>[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(T,{chart:g.chartTopMerchantsByOrders,isLoading:l.topMerchantsByOrders?.isLoading},null,8,["chart","isLoading"])])]),_:1}),t(b,{md:"6",cols:"12"},{default:s(()=>[a("div",ge,[a("div",ve,[he,t(y,{modelValue:r.toggleTopSPCompletedByOrders,"onUpdate:modelValue":e[13]||(e[13]=o=>r.toggleTopSPCompletedByOrders=o),"close-on-content-click":!1,"close-on-back":!1,persistent:""},{activator:s(({props:o})=>[a("button",S(o,{class:"py-2"}),[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-calendar-month-outline")]),_:1})],16)]),default:s(()=>[t(h,null,{default:s(()=>[t(n,null,{default:s(()=>[a("button",{onClick:e[7]||(e[7]=o=>r.toggleTopSPCompletedByOrders=!1),class:"mb-2 text-error"},[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-close")]),_:1})])]),_:1}),t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopSPCompletedByOrders["filter[date_from]"],"onUpdate:modelValue":e[8]||(e[8]=o=>r.paramsTopSPCompletedByOrders["filter[date_from]"]=o),value:r.paramsTopSPCompletedByOrders["filter[date_from]"],"onUpdate:value":e[9]||(e[9]=o=>r.paramsTopSPCompletedByOrders["filter[date_from]"]=o),"default-value":r.paramsTopSPCompletedByOrders["filter[date_from]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopSPCompletedByOrders["filter[date_to]"],"onUpdate:modelValue":e[10]||(e[10]=o=>r.paramsTopSPCompletedByOrders["filter[date_to]"]=o),value:r.paramsTopSPCompletedByOrders["filter[date_to]"],"onUpdate:value":e[11]||(e[11]=o=>r.paramsTopSPCompletedByOrders["filter[date_to]"]=o),"default-value":r.paramsTopSPCompletedByOrders["filter[date_to]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(v,{onClick:e[12]||(e[12]=o=>l.getTopSPCompletedByOrders(r.paramsTopSPCompletedByOrders)),class:"main-btn w-100"},{default:s(()=>[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(T,{chart:g.chartTopSPCompletedByOrders,isLoading:l.topSPCompletedByOrders?.isLoading},null,8,["chart","isLoading"])])]),_:1}),t(b,{md:"6",cols:"12"},{default:s(()=>[a("div",ye,[a("div",Te,[be,t(y,null,{activator:s(({props:o})=>[a("button",S(o,{class:"py-2"}),[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-calendar-month-outline")]),_:1})],16)]),default:s(()=>[t(h,null,{default:s(()=>[t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopServices["filter[date_from]"],"onUpdate:modelValue":e[14]||(e[14]=o=>r.paramsTopServices["filter[date_from]"]=o),value:r.paramsTopServices["filter[date_from]"],"onUpdate:value":e[15]||(e[15]=o=>r.paramsTopServices["filter[date_from]"]=o),"default-value":r.paramsTopServices["filter[date_from]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopServices["filter[date_to]"],"onUpdate:modelValue":e[16]||(e[16]=o=>r.paramsTopServices["filter[date_to]"]=o),value:r.paramsTopServices["filter[date_to]"],"onUpdate:value":e[17]||(e[17]=o=>r.paramsTopServices["filter[date_to]"]=o),"default-value":r.paramsTopServices["filter[date_to]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(v,{onClick:e[18]||(e[18]=o=>l.getTopServices(r.paramsTopServices)),class:"main-btn w-100"},{default:s(()=>[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),t(T,{chart:g.chartTopServices,isLoading:l.topServices?.isLoading},null,8,["chart","isLoading"])])]),_:1}),t(b,{md:"6",cols:"12"},{default:s(()=>[a("div",Ce,[a("div",Se,[Me,t(y,null,{activator:s(({props:o})=>[a("button",S(o,{class:"py-2"}),[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-calendar-month-outline")]),_:1})],16)]),default:s(()=>[t(h,null,{default:s(()=>[t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopCategories["filter[date_from]"],"onUpdate:modelValue":e[19]||(e[19]=o=>r.paramsTopCategories["filter[date_from]"]=o),value:r.paramsTopCategories["filter[date_from]"],"onUpdate:value":e[20]||(e[20]=o=>r.paramsTopCategories["filter[date_from]"]=o),"default-value":r.paramsTopCategories["filter[date_from]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(f,{modelValue:r.paramsTopCategories["filter[date_to]"],"onUpdate:modelValue":e[21]||(e[21]=o=>r.paramsTopCategories["filter[date_to]"]=o),value:r.paramsTopCategories["filter[date_to]"],"onUpdate:value":e[22]||(e[22]=o=>r.paramsTopCategories["filter[date_to]"]=o),"default-value":r.paramsTopCategories["filter[date_to]"],type:"date",class:"mb-2 w-100","value-type":"format",format:"YYYY-MM-DD"},null,8,["modelValue","value","default-value"])]),_:1}),t(n,null,{default:s(()=>[t(v,{onClick:e[23]||(e[23]=o=>l.getTopCategories(r.paramsTopCategories)),class:"main-btn w-100"},{default:s(()=>[t(i,{size:"24"},{default:s(()=>[d("mdi mdi-filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),t(T,{chart:g.chartTopCategories,isLoading:l.topCategories?.isLoading},null,8,["chart","isLoading"])])]),_:1})]),_:1})])}const Pe=D(I,[["render",Be],["__scopeId","data-v-e9a075f3"]]);export{Pe as default};
//# sourceMappingURL=AdminHome-DcVEy4TI.js.map
