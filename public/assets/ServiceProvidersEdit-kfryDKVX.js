import{F,u as B,r as n,e as T}from"./index-COJIqLJ_.js";import{u as h}from"./serviceProviders.admin.store-Bv9QIKe0.js";import{u as A}from"./upload.store-D2_zDjX1.js";import{_ as C,m as P,e as p,r as c,o as m,c as _,f as $,F as b,b as r,t as a,a as o,w as s,h as j,i as U,g as I}from"./index-CS9bw-lj.js";import{L as D}from"./Loader-B8eGEbwu.js";import{u as L}from"./update.inputs.helper-BL7S9VQe.js";import"./api.helper-X78EMQNg.js";const N={components:{FiledInput:F,Loader:D},setup(){return{v$:B()}},validations(){return{record:{title:{required:n},description:{required:n},address:{required:n},status:{required:n},email:{required:n,email:T},phone:{required:n},cr_number:{required:n},vat_number:{required:n},can_collect_vat:{required:n}}}},data(){return{merchant:{title:null,description:null,address:null,status:null,email:null,phone:null,logo:null,vat_file:null,cr_file:null,sales_agreement_file:null,cr_number:null,vat_number:null,can_collect_vat:null,owner:{name:null,email:null}},files:{},listStatus:[{text:this.$t("global.status.active"),value:"active"},{text:this.$t("global.status.inactive"),value:"inactive"}]}},async mounted(){const e=this.$route.params.id;await this.showServiceProvidersAdmin(e),this.merchant={...this.record}},computed:{...P(h,["uiFlags","record"]),objData(){return[{name:"title",type:"text",label:this.$t("admin_merchant.fields.title"),error:"v$.record.title.$error",errorText:this.v$.record.title.required.$invalid&&this.$t("errors.required"),blur:"v$.record.title.$touch()"},{name:"description",type:"text",label:this.$t("admin_merchant.fields.description"),error:"v$.record.description.$error",errorText:this.v$.record.description.required.$invalid&&this.$t("errors.required"),blur:"v$.record.description.$touch()"},{name:"address",type:"text",label:this.$t("admin_merchant.fields.address"),error:"v$.record.address.$error",errorText:this.v$.record.address.required.$invalid&&this.$t("errors.required"),blur:"v$.record.address.$touch()"},{name:"email",type:"email",label:this.$t("admin_merchant.fields.email"),error:"v$.record.email.$error",errorText:this.v$.record.email.required.$invalid&&this.$t("errors.required")||this.v$.record.email.email.$invalid&&this.$t("errors.email"),blur:"v$.record.email.$touch()"},{name:"phone",type:"text",label:this.$t("admin_merchant.fields.phone"),error:"v$.record.phone.$error",errorText:this.v$.record.phone.required.$invalid&&this.$t("errors.required"),blur:"v$.record.phone.$touch()"},{name:"cr_number",type:"text",label:this.$t("admin_merchant.fields.cr_number"),error:"v$.record.cr_number.$error",errorText:this.v$.record.cr_number.required.$invalid&&this.$t("errors.required"),blur:"v$.record.cr_number.$touch()"},{name:"vat_number",type:"text",label:this.$t("admin_merchant.fields.vat_number"),error:"v$.record.vat_number.$error",errorText:this.v$.record.vat_number.required.$invalid&&this.$t("errors.required"),blur:"v$.record.vat_number.$touch()"}]}},methods:{...p(h,["createServiceProvidersAdmin","showServiceProvidersAdmin","updateServiceProvidersAdmin"]),...p(A,["uploadFile"]),actionBtn(){if(this.v$.$touch(),this.v$.$error)return;const e=L(this.record,this.merchant);this.updateServiceProvidersAdmin(this.record.id,e)},async upload(e,l){const v=e.target.files[0],{data:i}=await this.uploadFile(v);this.files[l]=v,this.merchant[l]=i.data.path}}},z={class:"content"},E={class:"d-flex border-b mb-4 pb-4 justify-space-between"},G={class:""},H=r("span",{class:"fa fa-arrow-left"},null,-1),J={class:"d-flex align-center ga-2 mb-3 filed__label"},K=r("span",{class:"text-red"},"*",-1),M={key:0,class:"text-error mt-2 d-flex ga-2 align-center"},O=r("span",{class:"mdi mdi-24px mdi-alert-circle-outline"},null,-1),Q={class:"d-flex align-center justify-space-between mb-3"},R={class:"d-flex align-center ga-2 filed__label"},W=["href"],X={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"},Y={class:"d-flex align-center justify-space-between mb-3"},Z={class:"d-flex align-center ga-2 filed__label"},ee=["href"],re={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"},te={class:"d-flex align-center justify-space-between mb-3"},le={class:"d-flex align-center ga-2 filed__label"},ae=["href"],oe={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"},ie={class:"d-flex align-center justify-space-between mb-3"},se={class:"d-flex align-center ga-2 filed__label"},ne=["href"],de={class:"filed__input d-flex align-center ga-2 pa-2 rounded-lg"};function ce(e,l,v,i,g,u){const y=c("loader"),w=c("v-select"),d=c("v-col"),q=c("filed-input"),x=c("v-checkbox"),k=c("v-btn"),V=c("v-row");return m(),_("div",z,[e.uiFlags.isLoading?(m(),$(y,{key:0})):(m(),_(b,{key:1},[r("div",E,[r("h2",G,a(e.$t("service_providers.edit_title")),1),r("button",{class:"d-flex ga-2 align-center",onClick:l[0]||(l[0]=t=>e.$router.go(-1))},[r("span",null,a(e.$t("global.actions.back")),1),H])]),o(V,null,{default:s(()=>[o(d,{cols:"12",md:"6"},{default:s(()=>[r("p",J,[r("span",null,a(e.$t("admin_merchant.fields.status")),1),K]),o(w,{modelValue:e.record.status,"onUpdate:modelValue":l[1]||(l[1]=t=>e.record.status=t),items:g.listStatus,"item-title":"text","item-value":"value",outlined:"","menu-icon":"mdi mdi-chevron-down",class:"text-capitalize rounded-xl",onBlur:l[2]||(l[2]=t=>i.v$.record.status.$touch()),error:i.v$.record.status.$dirty&&i.v$.record.status.required.$invalid,"no-data-text":e.$t("global.actions.no_data"),"hide-details":""},null,8,["modelValue","items","error","no-data-text"]),i.v$.record.status.$dirty&&i.v$.record.status.required.$invalid?(m(),_("p",M,[O,r("span",null,a(e.$t("errors.required")),1)])):j("",!0)]),_:1}),(m(!0),_(b,null,U(u.objData,(t,S)=>(m(),$(d,{cols:"12",md:"6",key:S},{default:s(()=>[o(q,{label:t.label,modelValue:e.record[t.name],"onUpdate:modelValue":f=>e.record[t.name]=f,value:e.record[t.name],type:t.type,error:i.v$.record[t.name].$error,"error-text":t.errorText,onBlur:f=>i.v$.record[t.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",Q,[r("p",R,a(e.$t("admin_merchant.fields.logo")),1),r("a",{href:e.record.logo,target:"_blank",class:"main-color"},a(e.$t("global.actions.view_file")),9,W)]),r("label",X,[r("input",{type:"file",onInput:l[3]||(l[3]=t=>u.upload(t,"logo"))},null,32)])]),_:1}),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",Y,[r("p",Z,a(e.$t("admin_merchant.fields.vat_file")),1),r("a",{href:e.record.vat_file,target:"_blank",class:"main-color"},a(e.$t("global.actions.view_file")),9,ee)]),r("label",re,[r("input",{type:"file",onInput:l[4]||(l[4]=t=>u.upload(t,"vat_file"))},null,32)])]),_:1}),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",te,[r("p",le,a(e.$t("admin_merchant.fields.cr_file")),1),r("a",{href:e.record.cr_file,target:"_blank",class:"main-color"},a(e.$t("global.actions.view_file")),9,ae)]),r("label",oe,[r("input",{type:"file",onInput:l[5]||(l[5]=t=>u.upload(t,"cr_file"))},null,32)])]),_:1}),o(d,{cols:"12",md:"6"},{default:s(()=>[r("div",ie,[r("p",se,a(e.$t("admin_merchant.fields.sales_agreement_file")),1),r("a",{href:e.record.sales_agreement_file,target:"_blank",class:"main-color"},a(e.$t("global.actions.view_file")),9,ne)]),r("label",de,[r("input",{type:"file",onInput:l[6]||(l[6]=t=>u.upload(t,"sales_agreement_file"))},null,32)])]),_:1}),o(d,{cols:"12"},{default:s(()=>[o(x,{modelValue:e.record.can_collect_vat,"onUpdate:modelValue":l[7]||(l[7]=t=>e.record.can_collect_vat=t),label:e.$t("global.can_collect_vat"),onBlur:l[8]||(l[8]=t=>i.v$.record.can_collect_vat.$touch()),"hide-details":""},null,8,["modelValue","label"])]),_:1}),o(d,{cols:"12"},{default:s(()=>[o(k,{class:"w-100",color:"primary",size:"large",onClick:u.actionBtn,loading:e.uiFlags.isCreating||e.uiFlags.isUpdated,disabled:e.uiFlags.isCreating||e.uiFlags.isUpdated||i.v$.record.$error},{default:s(()=>[I(a(e.$t("global.actions.edit")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const $e=C(N,[["render",ce]]);export{$e as default};
//# sourceMappingURL=ServiceProvidersEdit-kfryDKVX.js.map
