import{F as M,u as w,r as i,e as V}from"./index-COJIqLJ_.js";import{_ as D,m as F,e as B,r as o,o as c,c as b,f as v,F as $,b as u,t as h,a as t,w as s,i as L,g as q}from"./index-CS9bw-lj.js";import{L as x}from"./Loader-B8eGEbwu.js";import{u as j}from"./clients.merchant.store-BqdwfQcy.js";import{u as E}from"./update.inputs.helper-BL7S9VQe.js";import{M as T}from"./Maps-Cb9r27sT.js";import"./api.helper-X78EMQNg.js";import"./geosearch.module-C3uEVW0W.js";const U={components:{FiledInput:M,Loader:x,Maps:T},setup(){return{v$:w()}},validations(){return{dataObj:{name:{required:i},email:{email:V},address:{required:i},phone:{required:i},location:{lat:{required:i},long:{required:i}},is_active:{required:i}}}},data(){return{dataObj:{name:null,email:null,address:null,phone:null,location:{lat:null,long:null},is_active:null}}},async mounted(){if(this.isEditDataObj){const e=this.$route.params.id;await this.showClientsMerchant(e),this.dataObj={...this.record}}},computed:{...F(j,["uiFlags","record"]),isEditDataObj(){return this.$route.meta.edit},dataObjData(){return[{name:"name",type:"text",label:this.$t("admin_merchant.fields.name"),error:"v$.dataObj.name.$error",errorText:this.v$.dataObj.name.required.$invalid&&this.$t("errors.required"),blur:"v$.dataObj.name.$touch()"},{name:"email",type:"email",label:this.$t("admin_merchant.fields.email"),error:"v$.dataObj.email.$error",errorText:this.v$.dataObj.email.email.$invalid&&this.$t("errors.email"),blur:"v$.dataObj.email.$touch()"},{name:"address",type:"text",label:this.$t("admin_merchant.fields.address"),error:"v$.dataObj.address.$error",errorText:this.v$.dataObj.address.required.$invalid&&this.$t("errors.required"),blur:"v$.dataObj.address.$touch()"},{name:"phone",type:"text",label:this.$t("admin_merchant.fields.phone"),error:"v$.dataObj.phone.$error",errorText:this.v$.dataObj.phone.required.$invalid&&this.$t("errors.required"),blur:"v$.dataObj.phone.$touch()"}]}},methods:{...B(j,["createClientsMerchant","showClientsMerchant","updateClientsMerchant"]),actionBtn(){if(this.v$.$touch(),!this.v$.$error)if(this.isEditDataObj){const e=E(this.dataObj,this.record);this.updateClientsMerchant(this.record.id,e);return}else this.createClientsMerchant({...this.dataObj})},getLocation(e){this.dataObj.address=e.title,this.dataObj.location={lat:e.lat,long:e.long}}}},N={class:"content"},S={class:"d-flex border-b mb-4 pb-4 justify-space-between"},G={class:""},z=u("span",{class:"fa fa-arrow-left"},null,-1);function A(e,l,I,d,r,n){const O=o("loader"),_=o("filed-input"),m=o("v-col"),f=o("maps"),g=o("v-checkbox"),C=o("v-btn"),y=o("v-row");return c(),b("div",N,[e.uiFlags.isLoading?(c(),v(O,{key:0})):(c(),b($,{key:1},[u("div",S,[u("h2",G,h(n.isEditDataObj?e.$t("merchant.clients.edit"):e.$t("merchant.clients.add_new")),1),u("button",{class:"d-flex ga-2 align-center",onClick:l[0]||(l[0]=a=>e.$router.go(-1))},[u("span",null,h(e.$t("global.actions.back")),1),z])]),t(y,null,{default:s(()=>[(c(!0),b($,null,L(n.dataObjData,(a,k)=>(c(),v(m,{cols:"12",md:"6",key:k},{default:s(()=>[t(_,{label:a.label,modelValue:r.dataObj[a.name],"onUpdate:modelValue":p=>r.dataObj[a.name]=p,value:r.dataObj[a.name],type:a.type,error:d.v$.dataObj[a.name].$error,"error-text":a.errorText,onBlur:p=>d.v$.dataObj[a.name].$touch()},null,8,["label","modelValue","onUpdate:modelValue","value","type","error","error-text","onBlur"])]),_:2},1024))),128)),t(m,{cols:"12"},{default:s(()=>[t(f,{editMode:n.isEditDataObj,lat:r.dataObj?.location?.lat,long:r.dataObj?.location?.long,onGetLocation:n.getLocation},null,8,["editMode","lat","long","onGetLocation"])]),_:1}),t(m,{cols:"12"},{default:s(()=>[t(g,{modelValue:r.dataObj.is_active,"onUpdate:modelValue":l[1]||(l[1]=a=>r.dataObj.is_active=a),label:e.$t("global.status.active"),error:d.v$.dataObj.is_active.$error,onBlur:l[2]||(l[2]=a=>d.v$.dataObj.is_active.$touch()),"hide-details":""},null,8,["modelValue","label","error"])]),_:1}),t(m,{cols:"12"},{default:s(()=>[t(C,{class:"w-100",color:"primary",size:"large",onClick:n.actionBtn,loading:e.uiFlags.isCreating||e.uiFlags.isUpdated,disabled:e.uiFlags.isCreating||e.uiFlags.isUpdated||d.v$.dataObj.$error},{default:s(()=>[q(h(n.isEditDataObj?e.$t("global.actions.edit"):e.$t("global.actions.add")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})],64))])}const Y=D(U,[["render",A]]);export{Y as default};
//# sourceMappingURL=ClientsMerchantCreate-BCvYDaO5.js.map
